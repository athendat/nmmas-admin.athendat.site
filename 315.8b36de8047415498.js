"use strict";(self.webpackChunknmmas_admin_ssr=self.webpackChunknmmas_admin_ssr||[]).push([[315,761],{3696:(E,C,i)=>{i.r(C),i.d(C,{FaqModule:()=>z});var o=i(177),h=i(1583),t=i(3953),q=i(7313),n=i(9417),l=i(6582),f=i(1413),g=i(5558),v=i(7673),u=i(1397),d=i(6977);let I=(()=>{class e{static#t=this.type="[Faq] Get";constructor(s){this.payload=s}}return e})(),A=(()=>{class e{static#t=this.type="[Faq] Create";constructor(s){this.payload=s}}return e})(),D=(()=>{class e{static#t=this.type="[Faq] Edit";constructor(s){this.id=s}}return e})(),M=(()=>{class e{static#t=this.type="[Faq] Update";constructor(s,r){this.payload=s,this.id=r}}return e})(),S=(()=>{class e{static#t=this.type="[Faq] Update Status";constructor(s,r){this.id=s,this.status=r}}return e})(),R=(()=>{class e{static#t=this.type="[Faq] Delete";constructor(s){this.id=s}}return e})(),$=(()=>{class e{static#t=this.type="[Faq] Delete All";constructor(s){this.ids=s}}return e})();var m=i(1635),U=i(8141),P=i(8701),W=i(1626),B=i(5312);let Q=(()=>{class e{constructor(){this.http=(0,t.WQX)(W.Qq)}getFaqs(s){return this.http.get(`${B.c.URL}/faq.json`,{params:s})}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),p=class b{constructor(){this.store=(0,t.WQX)(l.il),this.notificationService=(0,t.WQX)(P.J),this.faqService=(0,t.WQX)(Q)}static faq(a){return a.faq}static selectedFaq(a){return a.selectedFaq}getFaqs(a,s){return this.faqService.getFaqs(s.payload).pipe((0,U.M)({next:r=>{a.patchState({faq:{data:r.data,total:r?.total?r?.total:r.data?.length}})},error:r=>{throw new Error(r?.error?.message)}}))}create(a,s){}edit(a,{id:s}){const r=a.getState(),c=r.faq.data.find(F=>F.id===s);a.patchState({...r,selectedFaq:c})}update(a,{}){}updateStatus(a,{}){}delete(a,{}){}deleteAll(a,{}){}static#t=this.\u0275fac=function(s){return new(s||b)};static#e=this.\u0275prov=t.jDH({token:b,factory:b.\u0275fac})};(0,m.Cg)([(0,l.rc)(I)],p.prototype,"getFaqs",null),(0,m.Cg)([(0,l.rc)(A)],p.prototype,"create",null),(0,m.Cg)([(0,l.rc)(D)],p.prototype,"edit",null),(0,m.Cg)([(0,l.rc)(M)],p.prototype,"update",null),(0,m.Cg)([(0,l.rc)(S)],p.prototype,"updateStatus",null),(0,m.Cg)([(0,l.rc)(R)],p.prototype,"delete",null),(0,m.Cg)([(0,l.rc)($)],p.prototype,"deleteAll",null),(0,m.Cg)([(0,l.MD)()],p,"faq",null),(0,m.Cg)([(0,l.MD)()],p,"selectedFaq",null),p=(0,m.Cg)([(0,l.Uw)({name:"faq",defaults:{faq:{data:[],total:0},selectedFaq:null}})],p);var Y=i(6532),O=i(7506),G=i(3955);function k(e,a){1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"title_is_required")," "))}function w(e,a){1&e&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"description_is_required")," "))}let j=(()=>{class e{constructor(){this.store=(0,t.WQX)(l.il),this.router=(0,t.WQX)(h.Ix),this.route=(0,t.WQX)(h.nX),this.formBuilder=(0,t.WQX)(n.ok),this.destroy$=new f.B,this.form=this.formBuilder.group({title:new n.MJ("",[n.k0.required]),description:new n.MJ("",[n.k0.required]),status:new n.MJ(!0)})}ngOnInit(){this.route.params.pipe((0,g.n)(s=>s.id?this.store.dispatch(new D(s.id)).pipe((0,u.Z)(()=>this.store.select(p.selectedFaq))):(0,v.of)()),(0,d.Q)(this.destroy$)).subscribe(s=>{this.faq=s,this.form.patchValue({title:this.faq?.title,description:this.faq?.description,status:this.faq?.status})})}submit(){this.form.markAllAsTouched();let s=new A(this.form.value);"edit"===this.type&&this.faq?.id&&(s=new M(this.form.value,this.faq.id)),this.form.valid&&this.store.dispatch(s).subscribe({complete:()=>{this.router.navigateByUrl("/faq")}})}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-form-faq"]],inputs:{type:"type"},decls:17,vars:22,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","title","formControlName","title",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"]],template:function(r,c){1&r&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return c.submit()}),t.j41(1,"app-form-fields",1),t.nrm(2,"input",2),t.nI1(3,"translate"),t.DNE(4,k,3,3,"div",3),t.k0s(),t.j41(5,"app-form-fields",1),t.nrm(6,"textarea",4),t.nI1(7,"translate"),t.DNE(8,w,3,3,"div",3),t.k0s(),t.j41(9,"app-form-fields",1)(10,"div",5)(11,"label",6),t.nrm(12,"input",7)(13,"span",8),t.k0s()()(),t.j41(14,"app-button",9),t.EFF(15),t.nI1(16,"translate"),t.k0s()()),2&r&&(t.Y8G("formGroup",c.form),t.R7$(),t.Y8G("label","title")("for","title")("required",!0),t.R7$(),t.FS9("placeholder",t.bMT(3,16,"enter_title")),t.R7$(2),t.Y8G("ngIf",c.form.controls.title.touched&&(null==c.form.controls.title.errors?null:c.form.controls.title.errors.required)),t.R7$(),t.Y8G("label","description")("for","description")("required",!0),t.R7$(),t.FS9("placeholder",t.bMT(7,18,"enter_description")),t.R7$(2),t.Y8G("ngIf",c.form.controls.description.touched&&(null==c.form.controls.description.errors?null:c.form.controls.description.errors.required)),t.R7$(),t.Y8G("label","status")("for","status")("required",!1),t.R7$(5),t.Y8G("id","faq_btn"),t.R7$(),t.SpI(" ",t.bMT(16,20,"create"===c.type?"save_faq":"update_faq")," "))},dependencies:[o.bT,n.qT,n.me,n.Zm,n.BC,n.cb,n.j4,n.JD,Y.z,O.Q,G.D9]})}return e})(),L=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-create-faq"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(r,c){1&r&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-faq",1),t.k0s()),2&r&&(t.Y8G("title","create_faq"),t.R7$(),t.Y8G("type","create"))},dependencies:[q.k,j]})}return e})(),X=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-edit-faq"]],decls:2,vars:2,consts:[[3,"title"],[3,"type"]],template:function(r,c){1&r&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-faq",1),t.k0s()),2&r&&(t.Y8G("title","edit_faq"),t.R7$(),t.Y8G("type","edit"))},dependencies:[q.k,j]})}return e})();var x=i(844),H=i(9949);const N=()=>["/faq/create"];function K(e,a){1&e&&(t.j41(0,"div",3)(1,"a",4),t.nrm(2,"i",5),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&e&&(t.R7$(),t.Y8G("routerLink",t.lJ4(4,N)),t.R7$(2),t.SpI(" ",t.bMT(4,2,"add_faq")," "))}class y{constructor(){this.store=(0,t.WQX)(l.il),this.router=(0,t.WQX)(h.Ix),this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"title",dataField:"title",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"created_at",type:"date",sortable:!0,sort_direction:"desc"},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Edit",actionToPerform:"edit",icon:"ri-pencil-line",permission:"faq.edit"},{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"faq.destroy"}],data:[],total:0}}ngOnInit(){this.faq$.subscribe(a=>{this.tableConfig.data=a?a?.data:[],this.tableConfig.total=a?a?.total:0})}onTableChange(a){this.store.dispatch(new I(a))}onActionClicked(a){"edit"===a.actionToPerform?this.edit(a.data):"status"===a.actionToPerform?this.status(a.data):"delete"===a.actionToPerform?this.delete(a.data):"deleteAll"===a.actionToPerform&&this.deleteAll(a.data)}edit(a){this.router.navigateByUrl(`/faq/edit/${a.id}`)}status(a){this.store.dispatch(new S(a.id,a.status))}delete(a){this.store.dispatch(new R(a.id))}deleteAll(a){this.store.dispatch(new $(a))}static#t=this.\u0275fac=function(s){return new(s||y)};static#e=this.\u0275cmp=t.VBU({type:y,selectors:[["app-faq"]],decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(s,r){1&s&&(t.j41(0,"app-page-wrapper",0),t.DNE(1,K,5,5,"div",1),t.j41(2,"app-table",2),t.bIt("tableChanged",function(F){return r.onTableChange(F)})("rowClicked",function(F){return r.edit(F)})("action",function(F){return r.onActionClicked(F)}),t.k0s()()),2&s&&(t.Y8G("gridClass","col-sm-12")("title","FAQ's"),t.R7$(),t.Y8G("hasPermission","faq.create"),t.R7$(),t.Y8G("tableConfig",r.tableConfig)("hasCheckbox",!0))},dependencies:[h.Wk,x.O,q.k,H.p,G.D9]})}(0,m.Cg)([(0,l.l6)(p.faq)],y.prototype,"faq$",void 0);var T=i(1608);const _=[{path:"",component:y,canActivate:[T.L],data:{permission:"faq.index"}},{path:"create",component:L,canActivate:[T.L],data:{permission:["faq.index","faq.create"]}},{path:"edit/:id",component:X,canActivate:[T.L],data:{permission:["faq.index","faq.edit"]}}];let J=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#a=this.\u0275inj=t.G2t({imports:[h.iI.forChild(_),h.iI]})}return e})();var V=i(3887);let z=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#a=this.\u0275inj=t.G2t({imports:[o.MD,J,V.G,l.rK.forFeature([p])]})}return e})()},1608:(E,C,i)=>{i.d(C,{L:()=>q});var o=i(3953),h=i(1583),t=i(6582);let q=(()=>{class n{constructor(){this.store=(0,o.WQX)(t.il),this.router=(0,o.WQX)(h.Ix)}canActivate(f,g){const v=this.store.selectSnapshot(d=>d.account).permissions?.map(d=>d?.name),u=f.data?.permission;return!!(!u||!Array.isArray(u)&&v?.includes(u)||Array.isArray(u)&&u?.length&&u.every(d=>v?.includes(d)))||(this.router.navigate(["/error/403"]),!1)}static#t=this.\u0275fac=function(g){return new(g||n)};static#e=this.\u0275prov=o.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},6532:(E,C,i)=>{i.d(C,{z:()=>l});var o=i(3953),h=i(177),t=i(3955);const q=["*"];function n(f,g){1&f&&(o.j41(0,"span",1),o.EFF(1,"*"),o.k0s())}let l=(()=>{class f{constructor(){this.class="mb-4 row align-items-center g-2",this.labelClass="form-label-title col-sm-2 mb-0",this.gridClass="col-sm-10"}static#t=this.\u0275fac=function(u){return new(u||f)};static#e=this.\u0275cmp=o.VBU({type:f,selectors:[["app-form-fields"]],inputs:{class:"class",label:"label",labelClass:"labelClass",gridClass:"gridClass",for:"for",required:"required"},ngContentSelectors:q,decls:7,vars:11,consts:[["class","theme-color ms-2 required-dot",4,"ngIf"],[1,"theme-color","ms-2","required-dot"]],template:function(u,d){1&u&&(o.NAR(),o.j41(0,"div")(1,"label"),o.EFF(2),o.nI1(3,"translate"),o.DNE(4,n,2,0,"span",0),o.k0s(),o.j41(5,"div"),o.SdG(6),o.k0s()()),2&u&&(o.HbH(d.class),o.R7$(),o.HbH(d.labelClass),o.BMQ("for",d.for),o.R7$(),o.SpI(" ",o.bMT(3,9,d.label),""),o.R7$(2),o.Y8G("ngIf",d.required),o.R7$(),o.HbH(d.gridClass))},dependencies:[h.bT,t.D9]})}return f})()}}]);