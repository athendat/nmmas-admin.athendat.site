"use strict";(self.webpackChunknmmas_admin_ssr=self.webpackChunknmmas_admin_ssr||[]).push([[589],{7850:(E,g,e)=>{e.d(g,{o:()=>m});var t=e(3953),o=e(6383),i=e(7313),_=e(5478);let m=(()=>{class d{constructor(){this.tagType=(0,t.hFB)(o.hM.product)}static#t=this.\u0275fac=function(a){return new(a||d)};static#e=this.\u0275cmp=t.VBU({type:d,selectors:[["app-create-tag"]],inputs:{tagType:[1,"tagType"]},decls:2,vars:3,consts:[[3,"title"],[3,"type","tagType"]],template:function(a,s){1&a&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-tag",1),t.k0s()),2&a&&(t.Y8G("title","create_tag"),t.R7$(),t.Y8G("type","create")("tagType",s.tagType()))},dependencies:[i.k,_.U],encapsulation:2,changeDetection:0})}return d})()},2242:(E,g,e)=>{e.d(g,{a:()=>m});var t=e(3953),o=e(6383),i=e(7313),_=e(5478);let m=(()=>{class d{constructor(){this.tagType=(0,t.hFB)(o.hM.product)}static#t=this.\u0275fac=function(a){return new(a||d)};static#e=this.\u0275cmp=t.VBU({type:d,selectors:[["app-edit-tag"]],inputs:{tagType:[1,"tagType"]},decls:2,vars:3,consts:[[3,"title"],[3,"type","tagType"]],template:function(a,s){1&a&&(t.j41(0,"app-page-wrapper",0),t.nrm(1,"app-form-tag",1),t.k0s()),2&a&&(t.Y8G("title","edit_tag"),t.R7$(),t.Y8G("type","edit")("tagType",s.tagType()))},dependencies:[i.k,_.U],encapsulation:2,changeDetection:0})}return d})()},5478:(E,g,e)=>{e.d(g,{U:()=>C});var t=e(3953),o=e(9417),i=e(1583),_=e(9079),m=e(5194),d=e(5398),l=e(8701),n=e(6383),a=e(177),s=e(6532),h=e(7506),T=e(3955);function f(r,y){1&r&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&r&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"tag_name_is_required")," "))}let C=(()=>{class r{constructor(){this.id="",this.tagType=(0,t.hFB)(n.hM.product),this.type=t.hFB.required(),this.#t=(0,t.WQX)(d.D),this.#e=(0,t.WQX)(t.abz),this.#a=(0,t.WQX)(o.ok),this.#o=(0,t.WQX)(l.J),this.#n=(0,t.WQX)(i.nX),this.#s=(0,t.WQX)(i.Ix),this.#r=(0,t.WQX)(m.P3)}#t;#e;#a;#o;#n;#s;#r;ngOnChanges(){this.form.controls.type.setValue(this.tagType)}ngOnInit(){this.id=this.#n.snapshot.params.id,this.form=this.#a.group({name:new o.MJ("",[o.k0.required]),description:new o.MJ,type:new o.MJ(this.tagType,[]),status:new o.MJ(!0)}),"edit"===this.type()&&this.form.patchValue(this.#r.tag()),this.#s.url.includes("tag")?this.form.controls.type.setValue(n.hM.product):this.form.controls.type.setValue(n.hM.post)}submit(){if(this.form.markAllAsTouched(),this.form.invalid)return;if("edit"===this.type()&&this.id){let p=this.form.getRawValue();return console.log({formData:p}),p.id=this.id,void this.#t.updateTag(this.id,p).pipe((0,_.pQ)(this.#e)).subscribe(u=>{this.form.reset(),this.#o.showSuccess(u.message),this.#s.navigateByUrl("/tag")})}let c=this.form.getRawValue();this.#t.createTag(c).pipe((0,_.pQ)(this.#e)).subscribe(p=>{this.form.reset(),this.#o.showSuccess(p.message),this.#s.navigateByUrl("/tag")})}static#i=this.\u0275fac=function(p){return new(p||r)};static#l=this.\u0275cmp=t.VBU({type:r,selectors:[["app-form-tag"]],inputs:{tagType:[1,"tagType"],type:[1,"type"]},features:[t.OA$],decls:19,vars:27,consts:[[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[3,"label","for","required"],["type","text","name","name","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["formControlName","description","rows","3",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","status","formControlName","status"],[1,"switch-state"],[3,"id"],[1,"invalid-feedback"]],template:function(p,u){1&p&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return u.submit()}),t.j41(1,"app-form-fields",1),t.nI1(2,"translate"),t.nrm(3,"input",2),t.nI1(4,"translate"),t.DNE(5,f,3,3,"div",3),t.k0s(),t.j41(6,"app-form-fields",1),t.nI1(7,"translate"),t.nrm(8,"textarea",4),t.nI1(9,"translate"),t.k0s(),t.j41(10,"app-form-fields",1),t.nI1(11,"translate"),t.j41(12,"div",5)(13,"label",6),t.nrm(14,"input",7)(15,"span",8),t.k0s()()(),t.j41(16,"app-button",9),t.EFF(17),t.nI1(18,"translate"),t.k0s()()),2&p&&(t.Y8G("formGroup",u.form),t.R7$(),t.Y8G("label",t.bMT(2,15,"tag_name"))("for","name")("required",!0),t.R7$(2),t.FS9("placeholder",t.bMT(4,17,"enter_tag_name")),t.R7$(2),t.Y8G("ngIf",u.form.controls.name.touched&&(null==u.form.controls.name.errors?null:u.form.controls.name.errors.required)),t.R7$(),t.Y8G("label",t.bMT(7,19,"description"))("for","description")("required",!1),t.R7$(2),t.FS9("placeholder",t.bMT(9,21,"enter_description")),t.R7$(2),t.Y8G("label",t.bMT(11,23,"status"))("for","status")("required",!1),t.R7$(6),t.Y8G("id","tag_btn"),t.R7$(),t.JRh(t.bMT(18,25,"create"===u.type()?"save_tag":"update_tag")))},dependencies:[a.bT,o.qT,o.me,o.Zm,o.BC,o.cb,o.j4,o.JD,s.z,h.Q,T.D9],encapsulation:2,changeDetection:0})}return r})()},9805:(E,g,e)=>{e.d(g,{e:()=>C});var t=e(3953),o=e(1583),i=e(9079),_=e(5194),m=e(4310),d=e(8701),l=e(6383),n=e(844),a=e(7313),s=e(9949),h=e(3955);const T=r=>[r];function f(r,y){if(1&r&&(t.j41(0,"div",3)(1,"a",4),t.nrm(2,"i",5),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&r){const c=t.XpG();t.R7$(),t.Y8G("routerLink",t.eq3(4,T,"post"===c.tagType()?"/blog/tag/create":"/tag/create")),t.R7$(2),t.SpI(" ",t.bMT(4,2,"add_tag")," ")}}let C=(()=>{class r{constructor(){this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"createdAt",type:"date",sortable:!0,sort_direction:"desc"},{title:"estatus",dataField:"status",type:"switch"}],rowActions:[{label:"Editar",actionToPerform:"edit",icon:"ri-pencil-line",permission:"tag.edit"},{label:"Eliminar",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"tag.destroy"}],data:[],total:0},this.tagType=(0,t.hFB)(l.hM.product),this.#t=(0,t.WQX)(m.DQ),this.#e=(0,t.WQX)(_.P3),this.#a=(0,t.WQX)(t.gRc),this.#o=(0,t.WQX)(t.abz),this.#n=(0,t.WQX)(d.J),this.#s=(0,t.WQX)(o.Ix)}#t;#e;#a;#o;#n;#s;ngOnInit(){this.tableConfig.data=this.#e.tags(),this.tableConfig.total=this.#e.tags().length}onTableChange(c){}onActionClicked(c){"edit"===c.actionToPerform?this.edit(c.data):"delete"===c.actionToPerform?this.delete(c.data):"deleteAll"===c.actionToPerform&&this.deleteAll(c.data)}edit(c){this.#s.navigateByUrl(`/tag/edit/${c.id}`)}delete(c){this.#t.removeTag(c.id).pipe((0,i.pQ)(this.#o)).subscribe(p=>{this.#n.showSuccess(p.message),this.tableConfig.data=this.#e.tags(),this.tableConfig.total=this.#e.tags().length,this.#a.markForCheck()})}deleteAll(c){}static#r=this.\u0275fac=function(p){return new(p||r)};static#i=this.\u0275cmp=t.VBU({type:r,selectors:[["app-tag"]],inputs:{tagType:[1,"tagType"]},decls:3,vars:5,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(p,u){1&p&&(t.j41(0,"app-page-wrapper",0),t.DNE(1,f,5,6,"div",1),t.j41(2,"app-table",2),t.bIt("tableChanged",function(D){return u.onTableChange(D)})("rowClicked",function(D){return u.edit(D)})("action",function(D){return u.onActionClicked(D)}),t.k0s()()),2&p&&(t.Y8G("gridClass","col-sm-12")("title","tags"),t.R7$(),t.Y8G("hasPermission","tag.create"),t.R7$(),t.Y8G("tableConfig",u.tableConfig)("hasCheckbox",!0))},dependencies:[o.Wk,n.O,a.k,s.p,h.D9],encapsulation:2,changeDetection:0})}return r})()},5589:(E,g,e)=>{e.r(g),e.d(g,{TagModule:()=>C});var t=e(6582),o=e(177),i=e(1583),_=e(9805),m=e(7850),d=e(2242),l=e(1608),n=e(2492),a=e(3953);const s=[{path:"",component:_.e,canActivate:[l.L],data:{permission:"tag.index"},resolve:{tags:n.YY}},{path:"create",component:m.o,canActivate:[l.L],data:{permission:["tag.index","tag.create"]}},{path:"edit/:id",component:d.a,canActivate:[l.L],data:{permission:["tag.index","tag.edit"]},resolve:{tag:n.D3}}];let h=(()=>{class r{static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275mod=a.$C({type:r});static#a=this.\u0275inj=a.G2t({imports:[i.iI.forChild(s),i.iI]})}return r})();var T=e(3887),f=e(9363);let C=(()=>{class r{static#t=this.\u0275fac=function(p){return new(p||r)};static#e=this.\u0275mod=a.$C({type:r});static#a=this.\u0275inj=a.G2t({imports:[o.MD,h,T.G,t.rK.forFeature([f.U])]})}return r})()},7645:(E,g,e)=>{e.d(g,{CF:()=>d,K:()=>_,Np:()=>o,dl:()=>l,hv:()=>i,sQ:()=>t,u1:()=>m});let t=(()=>{class n{static#t=this.type="[Tag] Get";constructor(s){this.payload=s}}return n})(),o=(()=>{class n{static#t=this.type="[Tag] Create";constructor(s){this.payload=s}}return n})(),i=(()=>{class n{static#t=this.type="[Tag] Edit";constructor(s){this.id=s}}return n})(),_=(()=>{class n{static#t=this.type="[Tag] Update";constructor(s,h){this.payload=s,this.id=h}}return n})(),m=(()=>{class n{static#t=this.type="[Tag] Update Status";constructor(s,h){this.id=s,this.status=h}}return n})(),d=(()=>{class n{static#t=this.type="[Tag] Delete";constructor(s){this.id=s}}return n})(),l=(()=>{class n{static#t=this.type="[Tag] Delete All";constructor(s){this.ids=s}}return n})()},9363:(E,g,e)=>{e.d(g,{U:()=>l});var t=e(1635),o=e(3953),i=e(6582),_=e(7645),m=e(8701);let l=class M{constructor(){this.store=(0,o.WQX)(i.il),this.notificationService=(0,o.WQX)(m.J)}static tag(a){return a.tag}static selectedTag(a){return a.selectedTag}getTags(a,s){}create(a,s){}edit(a,{id:s}){const h=a.getState(),T=h.tag.data.find(f=>f.id===s);a.patchState({...h,selectedTag:T})}update(a,{}){}updateStatus(a,{}){}delete(a,{}){}deleteAll(a,{}){}static#t=this.\u0275fac=function(s){return new(s||M)};static#e=this.\u0275prov=o.jDH({token:M,factory:M.\u0275fac})};(0,t.Cg)([(0,i.rc)(_.sQ)],l.prototype,"getTags",null),(0,t.Cg)([(0,i.rc)(_.Np)],l.prototype,"create",null),(0,t.Cg)([(0,i.rc)(_.hv)],l.prototype,"edit",null),(0,t.Cg)([(0,i.rc)(_.K)],l.prototype,"update",null),(0,t.Cg)([(0,i.rc)(_.u1)],l.prototype,"updateStatus",null),(0,t.Cg)([(0,i.rc)(_.CF)],l.prototype,"delete",null),(0,t.Cg)([(0,i.rc)(_.dl)],l.prototype,"deleteAll",null),(0,t.Cg)([(0,i.MD)()],l,"tag",null),(0,t.Cg)([(0,i.MD)()],l,"selectedTag",null),l=(0,t.Cg)([(0,i.Uw)({name:"tag",defaults:{tag:{data:[],total:0},selectedTag:null}})],l)}}]);