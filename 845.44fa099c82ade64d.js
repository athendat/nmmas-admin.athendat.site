"use strict";(self.webpackChunknmmas_admin_ssr=self.webpackChunknmmas_admin_ssr||[]).push([[845],{2845:(N,S,c)=>{c.r(S),c.d(S,{ProductModule:()=>Ke});var i=c(177),x=c(6582),f=c(1583),e=c(3953),G=c(9079),T=c(5194),g=c(4310),C=c(844),_=c(7313),d=c(9949),k=c(3955);const p=()=>["/product/create"];function b(r,n){1&r&&(e.j41(0,"div",3)(1,"a",4),e.nrm(2,"i",5),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&r&&(e.R7$(),e.Y8G("routerLink",e.lJ4(4,p)),e.R7$(2),e.SpI(" ",e.bMT(4,2,"add_product")," "))}let R=(()=>{class r{constructor(){this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"image",dataField:"product_thumbnail",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"name",dataField:"name",sortable:!0,sort_direction:"desc"},{title:"sku",dataField:"sku",sortable:!0,sort_direction:"desc"},{title:"price",dataField:"sale_price",type:"price",sortable:!0,sort_direction:"desc"},{title:"stock",dataField:"stock_status"},{title:"store",dataField:"store.store_name"},{title:"approved",dataField:"is_approved",type:"switch",canAllow:["admin"]},{title:"status",dataField:"status",type:"switch"}],rowActions:[{label:"Editar",actionToPerform:"edit",icon:"ri-pencil-line",permission:"product.edit"},{label:"Eliminar",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"product.destroy"}],data:[],total:0},this.#e=(0,e.WQX)(g.bk),this.#t=(0,e.WQX)(T.QS),this.#o=(0,e.WQX)(e.gRc),this.#r=(0,e.WQX)(e.abz),this.#s=(0,e.WQX)(g.JE),this.#l=(0,e.WQX)(f.Ix)}#e;#t;#o;#r;#s;#l;ngOnInit(){this.tableConfig.data=this.#t.products(),this.tableConfig.total=this.#t.products().length}onTableChange(t){}onActionClicked(t){"edit"===t.actionToPerform?this.edit(t.data):"is_approved"===t.actionToPerform?this.approve(t.data):"status"===t.actionToPerform?this.status(t.data):"delete"===t.actionToPerform?this.delete(t.data):"deleteAll"===t.actionToPerform?this.deleteAll(t.data):"duplicate"===t.actionToPerform&&this.duplicate(t.data)}edit(t){this.#l.navigateByUrl(`/product/edit/${t.id}`)}approve(t){}status(t){}delete(t){this.#e.removeProduct(t.id).pipe((0,G.pQ)(this.#r)).subscribe(o=>{this.#s.showSuccess(o.message),this.tableConfig.data=this.#t.products(),this.tableConfig.total=this.#t.products().length,this.#o.markForCheck()})}deleteAll(t){}duplicate(t){}static#i=this.\u0275fac=function(o){return new(o||r)};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-product"]],decls:3,vars:6,consts:[[3,"gridClass","title"],["button","",4,"hasPermission"],[3,"tableChanged","rowClicked","action","tableConfig","hasCheckbox","hasDuplicate"],["button",""],[1,"align-items-center","btn","btn-theme","d-flex",3,"routerLink"],[1,"ri-add-line"]],template:function(o,s){1&o&&(e.j41(0,"app-page-wrapper",0),e.DNE(1,b,5,5,"div",1),e.j41(2,"app-table",2),e.bIt("tableChanged",function(m){return s.onTableChange(m)})("rowClicked",function(m){return s.edit(m)})("action",function(m){return s.onActionClicked(m)}),e.k0s()()),2&o&&(e.Y8G("gridClass","col-sm-12")("title","products"),e.R7$(),e.Y8G("hasPermission","product.create"),e.R7$(),e.Y8G("tableConfig",s.tableConfig)("hasCheckbox",!0)("hasDuplicate",!0))},dependencies:[f.Wk,C.O,_.k,d.p,k.D9],encapsulation:2,changeDetection:0})}return r})();var l=c(9417),P=c(1413),D=c(4404),q=c(152),B=c(3294),v=c(3391);function J(r){const n=r.value;return null==n||""===n||/^\d+(\.\d{1,2})?$/.test(n)?null:{invalidPrice:!0}}var U=c(913),Q=c(6532),W=c(8856),O=c(1469),L=c(7506);const z=["nav"],Y=()=>[];function K(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"name_is_required")," "))}function H(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"short_description_is_required")," "))}function Z(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"description_is_required")," "))}function ee(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"store_is_required")," "))}function te(r,n){if(1&r&&(e.j41(0,"div",30)(1,"app-form-fields",31),e.nrm(2,"input",32),e.nI1(3,"translate"),e.DNE(4,K,3,3,"div",33),e.k0s(),e.j41(5,"app-form-fields",31),e.nrm(6,"textarea",34),e.nI1(7,"translate"),e.j41(8,"p",35),e.EFF(9),e.k0s(),e.DNE(10,H,3,3,"div",33),e.k0s(),e.j41(11,"app-form-fields",31)(12,"div",36),e.nrm(13,"ngx-editor-menu",37)(14,"ngx-editor",38),e.DNE(15,Z,3,3,"div",33),e.k0s()(),e.j41(16,"app-form-fields",31),e.nrm(17,"select2",39),e.nI1(18,"translate"),e.nI1(19,"translate"),e.DNE(20,ee,3,3,"div",33),e.k0s()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","name")("for","name")("required",!0),e.R7$(),e.FS9("placeholder",e.bMT(3,34,"enter_product_name")),e.R7$(2),e.Y8G("ngIf",t.form.controls.name.touched&&(null==t.form.controls.name.errors?null:t.form.controls.name.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","short_description")("for","short_description")("required",!0),e.R7$(),e.FS9("placeholder",e.bMT(7,36,"enter_short_description")),e.R7$(3),e.JRh("*Maximum length should be 300 characters."),e.R7$(),e.Y8G("ngIf",t.form.controls.short_description.touched&&(null==t.form.controls.short_description.errors?null:t.form.controls.short_description.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","description")("for","description")("required",!0),e.R7$(2),e.Y8G("editor",t.editor),e.R7$(),e.Y8G("editor",t.editor)("ngModel",t.html)("placeholder","Type here..."),e.R7$(),e.Y8G("ngIf",t.form.controls.description.touched&&(null==t.form.controls.description.errors?null:t.form.controls.description.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","store")("for","store")("required",!0),e.R7$(),e.FS9("noResultMessage",e.bMT(18,38,"no_data_found")),e.Y8G("placeholder",e.bMT(19,40,"select_store"))("data",t.storesStore.storesList()),e.R7$(3),e.Y8G("ngIf",t.form.controls.store_id.touched&&(null==t.form.controls.store_id.errors?null:t.form.controls.store_id.errors.required))}}function re(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"type_is_required")," "))}function oe(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"stock_is_required")," "))}function se(r,n){if(1&r&&(e.j41(0,"app-form-fields",31),e.nrm(1,"select2",60),e.nI1(2,"translate"),e.nI1(3,"translate"),e.DNE(4,oe,3,3,"div",33),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_status")("for","stock_status")("required",!0),e.R7$(),e.FS9("noResultMessage",e.bMT(2,9,"no_data_found")),e.Y8G("placeholder",e.bMT(3,11,"select_stock_status"))("data",null!=t.stocks&&t.stocks.length?t.stocks:e.lJ4(13,Y)),e.R7$(3),e.Y8G("ngIf",(null==t.form||null==t.form.controls.stock_status?null:t.form.controls.stock_status.touched)&&(null==t.form||null==t.form.controls.stock_status||null==t.form.controls.stock_status.errors?null:t.form.controls.stock_status.errors.required))}}function le(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"sku_is_required")," "))}function ae(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"quantity_is_required")," "))}function ie(r,n){if(1&r&&(e.j41(0,"app-form-fields",31),e.nrm(1,"input",61),e.nI1(2,"translate"),e.DNE(3,ae,3,3,"div",33),e.k0s()),2&r){const t=e.XpG(2);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_quantity")("for","quantity")("required",!0),e.R7$(),e.FS9("placeholder",e.bMT(2,7,"enter_quantity")),e.R7$(2),e.Y8G("ngIf",t.form.controls.quantity.touched&&(null==t.form.controls.quantity.errors?null:t.form.controls.quantity.errors.required))}}function ne(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"price_is_required")," "))}function ce(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"please_enter_a_valid_price")," "))}function de(r,n){if(1&r&&(e.j41(0,"app-form-fields",31)(1,"div",52)(2,"span",62),e.EFF(3),e.k0s(),e.nrm(4,"input",63),e.nI1(5,"translate"),e.k0s(),e.DNE(6,ne,3,3,"div",33)(7,ce,3,3,"div",33),e.k0s()),2&r){let t;const o=e.XpG(2);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","price")("for","price")("required",!0),e.R7$(3),e.SpI(" ",null!=(t=o.settingsStore.setting().values)&&null!=t.general&&t.general.default_currency.symbol?null==(t=o.settingsStore.setting().values)||null==t.general?null:t.general.default_currency.symbol:"$"," "),e.R7$(),e.FS9("placeholder",e.bMT(5,9,"enter_price")),e.R7$(2),e.Y8G("ngIf",o.form.controls.price.touched&&(null==o.form.controls.price.errors?null:o.form.controls.price.errors.required)),e.R7$(),e.Y8G("ngIf",o.form.controls.price.touched&&(null==o.form.controls.price.errors?null:o.form.controls.price.errors.invalidPrice))}}function me(r,n){1&r&&(e.j41(0,"app-form-fields",31)(1,"div",52),e.nrm(2,"input",64),e.nI1(3,"translate"),e.j41(4,"span",62),e.EFF(5,"%"),e.k0s()()()),2&r&&(e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","discount")("for","discount_value")("required",!1),e.R7$(2),e.FS9("placeholder",e.bMT(3,6,"enter_discount")))}function pe(r,n){if(1&r&&(e.j41(0,"app-form-fields",31)(1,"div",52)(2,"span",62),e.EFF(3),e.k0s(),e.nrm(4,"input",65),e.k0s()()),2&r){let t,o;const s=e.XpG(2);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_price")("for","sale_price")("required",!1),e.R7$(3),e.SpI(" ",null!=(t=s.settingsStore.setting().values)&&null!=t.general&&t.general.default_currency.symbol?null==(t=s.settingsStore.setting().values)||null==t.general?null:t.general.default_currency.symbol:"$"," "),e.R7$(),e.FS9("value",((null==(o=s.form.get("price"))?null:o.value)-(null==(o=s.form.get("price"))?null:o.value)*(null==(o=s.form.get("discount"))?null:o.value)/100).toFixed(2))}}function ue(r,n){if(1&r){const t=e.RV6();e.j41(0,"span",66),e.bIt("mouseenter",function(){const s=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.hoveredDate=s)})("mouseleave",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.hoveredDate=null)}),e.EFF(1),e.k0s()}if(2&r){const t=n.$implicit,o=n.focused,s=e.XpG(2);e.AVh("focused",o)("range",s.isRange(t))("faded",s.isHovered(t)||s.isInside(t)),e.R7$(),e.SpI(" ",t.day," ")}}function _e(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"start_date_is_required")," "))}function fe(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"end_date_is_required")," "))}function ge(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",72)(1,"div",73)(2,"app-form-fields",74)(3,"select2",75),e.nI1(4,"translate"),e.nI1(5,"translate"),e.bIt("update",function(s){const a=e.eBV(t).index,m=e.XpG(3);return e.Njj(m.updateAttribute(s,a))}),e.k0s()()(),e.j41(6,"div",73)(7,"app-form-fields",74)(8,"select2",76),e.nI1(9,"translate"),e.nI1(10,"translate"),e.bIt("update",function(s){const a=e.eBV(t).index,m=e.XpG(3);return e.Njj(m.updateAttributeValue(s,a))}),e.k0s()()(),e.j41(11,"div",77)(12,"a",78),e.bIt("click",function(){const s=e.eBV(t).index,a=e.XpG(3);return e.Njj(a.removeVariant(s))}),e.EFF(13),e.nI1(14,"translate"),e.k0s()()()}if(2&r){let t;const o=n.$implicit,s=n.index,a=e.XpG(3);e.FS9("formGroupName",s),e.R7$(2),e.Y8G("label","attribute")("for","attribute"+s),e.R7$(),e.FS9("noResultMessage",e.bMT(4,13,"no_data_found")),e.Y8G("data",a.attributesStore.attributesList())("placeholder",e.bMT(5,15,"select_attribute")),e.R7$(4),e.Y8G("label","value")("for","value"+s),e.R7$(),e.FS9("noResultMessage",e.bMT(9,17,"no_data_found")),e.Y8G("data",null!=(t=o.get("variant_option").value)&&t.length?o.get("variant_option").value:e.lJ4(23,Y))("placeholder",e.bMT(10,19,"select_value"))("multiple",!0),e.R7$(5),e.SpI(" ",e.bMT(14,21,"remove")," ")}}function he(r,n){if(1&r){const t=e.RV6();e.j41(0,"app-button",79),e.bIt("click",function(s){e.eBV(t);const a=e.XpG(3);return e.Njj(a.addVariant(s))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.HbH("btn btn-theme mb-4"),e.Y8G("id","add_variant")("spinner",!1),e.R7$(),e.SpI(" ",e.bMT(2,5,"add_variant")," "))}function be(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"name_is_required")," "))}function ve(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"price_is_required")," "))}function Ce(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"please_enter_a_valid_price")," "))}function Fe(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"quantity_is_required")," "))}function Ie(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"sku_is_required")," "))}function ke(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"stock_is_required")," "))}function Re(r,n){if(1&r){const t=e.RV6();e.j41(0,"app-form-fields",31),e.nI1(1,"translate"),e.nrm(2,"input",90),e.DNE(3,be,3,3,"div",33),e.k0s(),e.j41(4,"app-form-fields",31)(5,"div",52)(6,"span",62),e.EFF(7),e.k0s(),e.nrm(8,"input",91),e.k0s(),e.DNE(9,ve,3,3,"div",33)(10,Ce,3,3,"div",33),e.k0s(),e.j41(11,"app-form-fields",31),e.nI1(12,"translate"),e.j41(13,"div",52),e.nrm(14,"input",92),e.nI1(15,"translate"),e.j41(16,"span",62),e.EFF(17,"%"),e.k0s()()(),e.j41(18,"app-form-fields",31)(19,"div",52)(20,"span",62),e.EFF(21),e.k0s(),e.nrm(22,"input",93),e.k0s()(),e.j41(23,"app-form-fields",31),e.nI1(24,"translate"),e.nrm(25,"input",94),e.DNE(26,Fe,3,3,"div",33),e.k0s(),e.j41(27,"app-form-fields",31),e.nrm(28,"input",95),e.DNE(29,Ie,3,3,"div",33),e.k0s(),e.j41(30,"app-form-fields",31),e.nrm(31,"select2",60),e.nI1(32,"translate"),e.nI1(33,"translate"),e.DNE(34,ke,3,3,"div",33),e.k0s(),e.j41(35,"app-form-fields",31)(36,"app-image-upload",96),e.bIt("selectedFiles",function(s){e.eBV(t);const a=e.XpG().index,m=e.XpG(4);return e.Njj(m.selectVariationImage(s,a))}),e.k0s()(),e.j41(37,"app-form-fields",97)(38,"div",47)(39,"label",48),e.nrm(40,"input",98)(41,"span",50),e.k0s()()()}if(2&r){let t,o,s,a,m,F,M,h,$;const j=e.XpG(),u=j.$implicit,I=j.index,E=e.XpG(4);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",e.bMT(1,66,"name"))("for","variation_name"+I)("required",!0),e.R7$(2),e.Y8G("id","variation_name"+I),e.R7$(),e.Y8G("ngIf",u.get("name").touched&&(null==(t=u.get("name").errors)?null:t.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Price")("for","price"+I)("required",!0),e.R7$(3),e.SpI(" ",null!=(o=E.settingsStore.setting().values)&&null!=o.general&&o.general.default_currency.symbol?null==(o=E.settingsStore.setting().values)||null==o.general?null:o.general.default_currency.symbol:"$"," "),e.R7$(),e.Y8G("id","price"+I),e.R7$(),e.Y8G("ngIf",u.get("price").touched&&(null==(s=u.get("price").errors)?null:s.required)),e.R7$(),e.Y8G("ngIf",u.get("price").touched&&(null==(a=u.get("price"))||null==a.errors?null:a.errors.invalidPrice)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",e.bMT(12,68,"discount"))("for","discount_value"+I)("required",!1),e.R7$(3),e.FS9("placeholder",e.bMT(15,70,"enter_discount")),e.Y8G("id","discount_value"+I),e.R7$(4),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_price")("for","sale_price"+I)("required",!1),e.R7$(3),e.SpI(" ",null!=(m=E.settingsStore.setting().values)&&null!=m.general&&m.general.default_currency.symbol?null==(m=E.settingsStore.setting().values)||null==m.general?null:m.general.default_currency.symbol:"$"," "),e.R7$(),e.FS9("value",((null==(F=u.get("price"))?null:F.value)-(null==(F=u.get("price"))?null:F.value)*(null==(F=u.get("discount"))?null:F.value)/100).toFixed(2)),e.Y8G("id","sale_price"+I),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",e.bMT(24,72,"stock_quantity"))("for","quantity"+I)("required",!0),e.R7$(2),e.Y8G("id","quantity"+I),e.R7$(),e.Y8G("ngIf",u.get("quantity").touched&&(null==(M=u.get("quantity").errors)?null:M.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sku")("for","sku"+I)("required",!0),e.R7$(),e.Y8G("id","sku"+I),e.R7$(),e.Y8G("ngIf",u.get("sku").touched&&(null==(h=u.get("sku").errors)?null:h.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","stock_status")("for","stock_status"+I)("required",!0),e.R7$(),e.FS9("noResultMessage",e.bMT(32,74,"no_data_found")),e.Y8G("placeholder",e.bMT(33,76,"select_stock_status"))("data",null!=E.stocks&&E.stocks.length?E.stocks:e.lJ4(78,Y)),e.R7$(3),e.Y8G("ngIf",u.get("stock_status").touched&&(null==($=u.get("stock_status").errors)?null:$.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","image")("for","variation_image_id"+I)("required",!1),e.R7$(),e.Y8G("multipleImage",!1)("image",u.get("variation_image").value),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","status")("for","active_variation_status"+I),e.R7$(3),e.Y8G("id","active_variation_status"+I)}}function ye(r,n){if(1&r&&(e.j41(0,"div",85)(1,"div",86)(2,"button",87),e.EFF(3),e.k0s()(),e.j41(4,"div",88)(5,"div",89),e.DNE(6,Re,42,79,"ng-template"),e.k0s()()()),2&r){const t=n.$implicit;e.FS9("formGroupName",n.index),e.Y8G("collapsed",!1),e.R7$(3),e.JRh(t.get("variation_name").value)}}function Te(r,n){if(1&r&&(e.j41(0,"div",80)(1,"h3",81),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.qex(4,82),e.j41(5,"div",83),e.DNE(6,ye,7,3,"div",84),e.k0s(),e.bVm(),e.k0s()),2&r){const t=e.XpG(3);e.R7$(2),e.JRh(e.bMT(3,2,"variants")),e.R7$(4),e.Y8G("ngForOf",null==t.variationControl?null:t.variationControl.controls)}}function $e(r,n){if(1&r&&(e.j41(0,"div",67),e.qex(1,68),e.DNE(2,ge,15,24,"div",69),e.bVm(),e.DNE(3,he,3,7,"app-button",70)(4,Te,7,4,"div",71),e.k0s()),2&r){const t=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",t.variantControl.controls),e.R7$(),e.Y8G("ngIf",t.attributesStore.attributes().length),e.R7$(),e.Y8G("ngIf",null==t.variationControl||null==t.variationControl.controls?null:t.variationControl.controls.length)}}function je(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"app-form-fields",31),e.nrm(2,"select2",42),e.nI1(3,"translate"),e.nI1(4,"translate"),e.DNE(5,re,3,3,"div",33),e.k0s(),e.j41(6,"app-form-fields",31),e.nrm(7,"input",43),e.nI1(8,"translate"),e.j41(9,"p",35),e.EFF(10),e.k0s()(),e.j41(11,"app-form-fields",31),e.nrm(12,"input",44),e.j41(13,"p",35),e.EFF(14),e.k0s()(),e.DNE(15,se,5,14,"app-form-fields",45),e.j41(16,"app-form-fields",31),e.nrm(17,"input",46),e.nI1(18,"translate"),e.DNE(19,le,3,3,"div",33),e.k0s(),e.DNE(20,ie,4,9,"app-form-fields",45)(21,de,8,11,"app-form-fields",45)(22,me,6,8,"app-form-fields",45)(23,pe,5,7,"app-form-fields",45),e.j41(24,"app-form-fields",31)(25,"div",47)(26,"label",48),e.nrm(27,"input",49)(28,"span",50),e.k0s()()(),e.j41(29,"div")(30,"app-form-fields",31)(31,"div",51)(32,"div",52)(33,"input",53,1),e.bIt("dateSelect",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.onDateSelection(s))}),e.k0s(),e.DNE(35,ue,2,7,"ng-template",null,2,e.C5r),e.k0s()(),e.j41(37,"div",54)(38,"input",55,3),e.bIt("input",function(){e.eBV(t);const s=e.sdS(39),a=e.XpG();return e.Njj(a.fromDate=a.validateInput(a.fromDate,s.value))}),e.k0s(),e.j41(40,"button",56),e.bIt("click",function(){e.eBV(t);const s=e.sdS(34);return e.Njj(s.toggle())}),e.nrm(41,"i",57),e.k0s()(),e.DNE(42,_e,3,3,"div",33),e.k0s(),e.j41(43,"app-form-fields",31)(44,"div",54)(45,"input",58,4),e.bIt("input",function(){e.eBV(t);const s=e.sdS(46),a=e.XpG();return e.Njj(a.toDate=a.validateInput(a.toDate,s.value))}),e.k0s(),e.j41(47,"button",56),e.bIt("click",function(){e.eBV(t);const s=e.sdS(34);return e.Njj(s.toggle())}),e.nrm(48,"i",57),e.k0s()(),e.DNE(49,fe,3,3,"div",33),e.k0s()(),e.DNE(50,$e,5,3,"div",59),e.k0s()}if(2&r){const t=e.sdS(36),o=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","type")("for","type")("required",!0),e.R7$(),e.FS9("noResultMessage",e.bMT(3,58,"no_data_found")),e.Y8G("placeholder",e.bMT(4,60,"select_type"))("data",null!=o.productType&&o.productType.length?o.productType:e.lJ4(66,Y)),e.R7$(3),e.Y8G("ngIf",o.form.controls.type.touched&&(null==o.form.controls.type.errors?null:o.form.controls.type.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","unit")("for","unit")("required",!1),e.R7$(),e.FS9("placeholder",e.bMT(8,62,"enter_unit")),e.R7$(3),e.SpI(" ","*Specify the measurement unit, such as 10 Pieces, 1 KG, 1 Ltr, etc."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","weight")("for","weight")("required",!1),e.R7$(3),e.JRh("*Specify the weight of this product in Gms."),e.R7$(),e.Y8G("ngIf","simple"===o.form.controls.type.value),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sku")("for","sku")("required",!0),e.R7$(),e.FS9("placeholder",e.bMT(18,64,"enter_sku")),e.R7$(2),e.Y8G("ngIf",o.form.controls.sku.touched&&(null==o.form.controls.sku.errors?null:o.form.controls.sku.errors.required)),e.R7$(),e.Y8G("ngIf","simple"===o.form.controls.type.value),e.R7$(),e.Y8G("ngIf","simple"===o.form.controls.type.value),e.R7$(),e.Y8G("ngIf","simple"===o.form.controls.type.value),e.R7$(),e.Y8G("ngIf","simple"===o.form.controls.type.value),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","sale_status")("for","is_sale_enable")("required",!1),e.R7$(6),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Sale Start Date")("for","sale_starts_at")("required",!1),e.R7$(3),e.Y8G("autoClose","outside")("displayMonths",2)("dayTemplate",t)("startDate",o.fromDate),e.R7$(5),e.Y8G("value",o.formatter.format(o.fromDate)),e.R7$(4),e.Y8G("ngIf",(null==o.form||null==o.form.controls.sale_starts_at?null:o.form.controls.sale_starts_at.touched)&&(null==o.form||null==o.form.controls.sale_starts_at||null==o.form.controls.sale_starts_at.errors?null:o.form.controls.sale_starts_at.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Sale End Date")("for","sale_expired_at")("required",!1),e.R7$(2),e.Y8G("value",o.formatter.format(o.toDate)),e.R7$(4),e.Y8G("ngIf",(null==o.form||null==o.form.controls.sale_expired_at?null:o.form.controls.sale_expired_at.touched)&&(null==o.form||null==o.form.controls.sale_expired_at||null==o.form.controls.sale_expired_at.errors?null:o.form.controls.sale_expired_at.errors.required)),e.R7$(),e.Y8G("ngIf","classified"===o.form.controls.type.value)}}function xe(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"categories_is_required")," "))}function Ge(r,n){if(1&r&&(e.j41(0,"div",105),e.nrm(1,"img",106),e.k0s(),e.EFF(2)),2&r){const t=n.data;e.R7$(),e.HbH("img-fluid selection-image"),e.Y8G("src",t.image,e.B4B),e.R7$(),e.SpI(" ",t.name," ")}}function Me(r,n){if(1&r){const t=e.RV6();e.j41(0,"app-form-fields",31),e.nI1(1,"translate"),e.j41(2,"select2",104),e.nI1(3,"translate"),e.nI1(4,"translate"),e.bIt("close",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.productDropdown(s))})("search",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.searchProduct(s))}),e.DNE(5,Ge,3,4,"ng-template",null,5,e.C5r),e.k0s(),e.j41(7,"p",35),e.EFF(8),e.k0s()()}if(2&r){const t=e.sdS(6),o=e.XpG(2);e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label",e.bMT(1,12,"related_products"))("for","related_product_id")("required",!1),e.R7$(2),e.FS9("noResultMessage",e.bMT(3,14,"no_data_found")),e.Y8G("templates",t)("data",o.productsStore.productsList())("placeholder",e.bMT(4,16,"select_product"))("customSearchEnabled",!0)("multiple",!0),e.R7$(6),e.SpI(" ","*Choose a maximum of 6 products for effective related products display."," ")}}function Ee(r,n){if(1&r&&(e.j41(0,"div",105),e.nrm(1,"img",106),e.k0s(),e.EFF(2)),2&r){const t=n.data;e.R7$(),e.HbH("img-fluid selection-image"),e.Y8G("src",t.image,e.B4B),e.R7$(),e.SpI(" ",t.name," ")}}function Se(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",99)(1,"app-form-fields",31)(2,"app-advanced-dropdown",100),e.bIt("selectedItem",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectTagItem(s))}),e.k0s()(),e.j41(3,"app-form-fields",31)(4,"app-advanced-dropdown",101),e.bIt("selectedItem",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectCategoryItem(s))}),e.k0s(),e.DNE(5,xe,3,3,"div",33),e.k0s(),e.j41(6,"app-form-fields",31)(7,"div",47)(8,"label",48),e.nrm(9,"input",102)(10,"span",50),e.k0s(),e.j41(11,"p",35),e.EFF(12),e.k0s()()(),e.DNE(13,Me,9,18,"app-form-fields",45),e.j41(14,"app-form-fields",31)(15,"select2",103),e.nI1(16,"translate"),e.nI1(17,"translate"),e.bIt("close",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.productDropdown(s))})("search",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.searchProduct(s))}),e.DNE(18,Ee,3,4,"ng-template",null,5,e.C5r),e.k0s(),e.j41(20,"p",35),e.EFF(21),e.k0s()()()}if(2&r){let t;const o=e.sdS(19),s=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","tags")("for","tags")("required",!1),e.R7$(),e.Y8G("position","bottom")("selectedOption",s.selectedTags)("options",s.tagsStore.tags())("id","tags"),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","categories")("for","categories")("required",!0),e.R7$(),e.Y8G("position","bottom")("selectedOption",s.selectedCategories)("options",s.categoriesStore.categoriesTree())("subArrayKey","subcategories")("id","categories"),e.R7$(),e.Y8G("ngIf",s.form.controls.categories.touched&&(null==s.form.controls.categories.errors?null:s.form.controls.categories.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","random_related_product")("for","is_random_related_products")("required",!1),e.R7$(6),e.SpI(" ","*Enabling this option allows the backend to randomly select 6 products for display."," "),e.R7$(),e.Y8G("ngIf",!(null!=(t=s.form.get("is_random_related_products"))&&t.value)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","cross_sell_products")("for","cross_sell_products")("required",!1),e.R7$(),e.FS9("noResultMessage",e.bMT(16,39,"no_data_found")),e.Y8G("templates",o)("data",null!=s.collectionProduct&&s.collectionProduct.length?s.collectionProduct:e.lJ4(43,Y))("placeholder",e.bMT(17,41,"select_product"))("customSearchEnabled",!0)("multiple",!0),e.R7$(6),e.SpI(" ","*Choose a maximum of 3 products for effective cross-selling display."," ")}}function De(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",107)(1,"app-form-fields",31)(2,"app-image-upload",108),e.bIt("selectedFiles",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectThumbnail(s))}),e.k0s()(),e.j41(3,"app-form-fields",31)(4,"app-image-upload",109),e.bIt("selectedFiles",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectImages(s))}),e.k0s()(),e.j41(5,"app-form-fields",31)(6,"app-image-upload",108),e.bIt("selectedFiles",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectSizeImage(s))}),e.k0s()()()}if(2&r){let t,o,s;const a=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","thumbnail")("for","product_thumbnail_id")("required",!1),e.R7$(),e.Y8G("multipleImage",!1)("image",null==(t=a.productsStore.product())?null:t.product_thumbnail)("helpText","*Upload image size 600x600px recommended"),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","images")("for","product_galleries_id")("required",!1),e.R7$(),e.Y8G("multipleImage",!0)("images",null==(o=a.productsStore.product())?null:o.product_galleries)("helpText","*Upload image size 600x600px recommended"),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","Size Chart")("for","size_chart_image_id")("required",!1),e.R7$(),e.Y8G("multipleImage",!1)("image",null==(s=a.productsStore.product())?null:s.size_chart_image_id)("helpText","*Upload an image showcasing the size chart tailored for fashion products. A table format image is suggested for easy reference.")}}function Ye(r,n){if(1&r){const t=e.RV6();e.j41(0,"div",110)(1,"app-form-fields",31),e.nrm(2,"input",111),e.nI1(3,"translate"),e.k0s(),e.j41(4,"app-form-fields",31),e.nrm(5,"textarea",112),e.nI1(6,"translate"),e.k0s(),e.j41(7,"app-form-fields",31)(8,"app-image-upload",96),e.bIt("selectedFiles",function(s){e.eBV(t);const a=e.XpG();return e.Njj(a.selectMetaImage(s))}),e.k0s()()()}if(2&r){let t;const o=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_title")("for","meta_title")("required",!1),e.R7$(),e.FS9("placeholder",e.bMT(3,19,"enter_meta_title")),e.R7$(2),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_description")("for","meta_desc")("required",!1),e.R7$(),e.FS9("placeholder",e.bMT(6,21,"enter_meta_description")),e.R7$(2),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","meta_image")("for","meta_image")("required",!1),e.R7$(),e.Y8G("multipleImage",!1)("image",null==(t=o.productsStore.product())?null:t.product_meta_image)}}function we(r,n){1&r&&(e.j41(0,"div",40),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"tax_is_required")," "))}function Ne(r,n){if(1&r&&(e.j41(0,"div",113)(1,"app-form-fields",31)(2,"div",47)(3,"label",48),e.nrm(4,"input",114)(5,"span",50),e.k0s()()(),e.j41(6,"app-form-fields",31),e.nrm(7,"select2",115),e.nI1(8,"translate"),e.nI1(9,"translate"),e.DNE(10,we,3,3,"div",33),e.k0s(),e.j41(11,"app-form-fields",31),e.nrm(12,"input",116),e.nI1(13,"translate"),e.j41(14,"p",35),e.EFF(15),e.k0s()(),e.j41(16,"app-form-fields",31),e.nrm(17,"input",117),e.nI1(18,"translate"),e.j41(19,"p",35),e.EFF(20),e.k0s()()()),2&r){const t=e.XpG();e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","free_shipping")("for","free_shipping")("required",!1),e.R7$(5),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","tax")("for","tax")("required",!1),e.R7$(),e.FS9("noResultMessage",e.bMT(8,29,"no_data_found")),e.Y8G("placeholder",e.bMT(9,31,"select_tax"))("data",t.taxesStore.taxesList())("id","tax_id"),e.R7$(3),e.Y8G("ngIf",t.form.controls.tax_id.touched&&(null==t.form.controls.tax_id.errors?null:t.form.controls.tax_id.errors.required)),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","estimated_delivery_text")("for","estimated_delivery_text")("required",!1),e.R7$(),e.FS9("placeholder",e.bMT(13,33,"enter_estimated_delivery_text")),e.R7$(3),e.SpI(" ","*Specify delivery text e.g Your order is likely to reach you within 5 to 10 days."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","return_policy_text")("for","return_policy_text")("required",!1),e.R7$(),e.FS9("placeholder",e.bMT(18,35,"enter_return_policy_text")),e.R7$(3),e.SpI(" ","*Specify return text e.g Hassle free 7, 15 and 30 days return might be available."," ")}}function Pe(r,n){1&r&&(e.j41(0,"div",118)(1,"app-form-fields",31)(2,"div",47)(3,"label",48),e.nrm(4,"input",119)(5,"span",50),e.k0s(),e.j41(6,"p",35),e.EFF(7),e.k0s()()(),e.j41(8,"app-form-fields",31)(9,"div",47)(10,"label",48),e.nrm(11,"input",120)(12,"span",50),e.k0s(),e.j41(13,"p",35),e.EFF(14),e.k0s()()(),e.j41(15,"app-form-fields",31)(16,"div",47)(17,"label",48),e.nrm(18,"input",121)(19,"span",50),e.k0s(),e.j41(20,"p",35),e.EFF(21),e.k0s()()(),e.j41(22,"app-form-fields",31)(23,"div",47)(24,"label",48),e.nrm(25,"input",122)(26,"span",50),e.k0s(),e.j41(27,"p",35),e.EFF(28),e.k0s()()(),e.j41(29,"app-form-fields",31)(30,"div",47)(31,"label",48),e.nrm(32,"input",123)(33,"span",50),e.k0s(),e.j41(34,"p",35),e.EFF(35),e.k0s()()(),e.j41(36,"app-form-fields",31)(37,"div",47)(38,"label",48),e.nrm(39,"input",124)(40,"span",50),e.k0s(),e.j41(41,"p",35),e.EFF(42),e.k0s()()(),e.j41(43,"app-form-fields",31)(44,"div",47)(45,"label",48),e.nrm(46,"input",125)(47,"span",50),e.k0s(),e.j41(48,"p",35),e.EFF(49),e.k0s()()(),e.j41(50,"app-form-fields",31)(51,"div",47)(52,"label",48),e.nrm(53,"input",126)(54,"span",50),e.k0s(),e.j41(55,"p",35),e.EFF(56),e.k0s()()(),e.j41(57,"app-form-fields",31)(58,"div",47)(59,"label",48),e.nrm(60,"input",127)(61,"span",50),e.k0s(),e.j41(62,"p",35),e.EFF(63),e.k0s()()()()),2&r&&(e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","featured")("for","product_featured")("required",!1),e.R7$(6),e.SpI(" ","*Enabling this option will display a Featured tag on the product."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","safe_checkout")("for","safe_checkout")("required",!1),e.R7$(6),e.JRh("*A safe checkout image will appear on the product page. Modify the image in the theme options."),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","secure_checkout")("for","secure_checkout")("required",!1),e.R7$(6),e.JRh("*A secure checkout image will appear on the product page. Modify the image in the theme options."),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","social_share")("for","social_share")("required",!1),e.R7$(6),e.SpI(" ","*Enable this option to allow users to share the product on social media platforms."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","encourage_order")("for","encourage_order")("required",!1),e.R7$(6),e.SpI(" ","*A random order count between 1 and 100 will be displayed to motivate user purchases."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","encourage_view")("for","encourage_view")("required",!1),e.R7$(6),e.SpI(" ","*this feature encourages users to view products by presenting engaging content or prompts."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","trending")("for","is_trending")("required",!1),e.R7$(6),e.SpI(" ","*Enabling this will showcase the product in the sidebar of the product page as a trending item."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","return")("for","return")("required",!1),e.R7$(6),e.SpI("","*Enable to make the product eligible for returns."," "),e.R7$(),e.Y8G("labelClass","form-label-title col-sm-3 mb-0")("gridClass","col-sm-9")("label","status")("for","status")("required",!1),e.R7$(6),e.JRh("*Toggle between Enabled and Disabled to control the availability of the product for purchase."))}function A(r){return new v.gj(r.year,r.month,r.day)}let X=(()=>{class r{constructor(){this.type=e.hFB.required(),this.nav=(0,e.ebz)("nav"),this.active="general",this.variationCombinations=[],this.retrieveVariants=!1,this.variantCount=0,this.hoveredDate=null,this.productType=[{value:"simple",label:"Simple"},{value:"classified",label:"Classified"}],this.stocks=[{value:"in_stock",label:"In Stock"},{value:"out_of_stock",label:"Out of Stock"}],this.filter={search:"",paginate:15,ids:"",with_union_products:0,is_approved:1},this.attributesStore=(0,e.WQX)(T.xu),this.categoriesStore=(0,e.WQX)(T.G7),this.formatter=(0,e.WQX)(v.tN),this.storesStore=(0,e.WQX)(T.cL),this.html="",this.tagsStore=(0,e.WQX)(T.P3),this.variants=[{id:null,attribute_values:null,options:null,variant_option:null}],this.variations=[],this.selectedCategories=[],this.selectedTags=[],this.productsStore=(0,e.WQX)(T.QS),this.settingsStore=(0,e.WQX)(T.rV),this.taxesStore=(0,e.WQX)(T.R5),this.#e=(0,e.WQX)(v.iF),this.#t=(0,e.WQX)(e.abz),this.#o=(0,e.WQX)(i.qQ),this.#r=(0,e.WQX)(l.ok),this.#s=(0,e.WQX)(g.JE),this.#l=(0,e.WQX)(g.bk),this.#i=(0,e.WQX)(e.sFG),this.#n=(0,e.WQX)(f.nX),this.#c=(0,e.WQX)(f.Ix),this.#a=new P.B}#e;#t;#o;#r;#s;#l;#i;#n;#c;#a;get variantControl(){return this.form.get("variants")}get variationControl(){return this.form.get("variations")}ngOnInit(){if(this.id=this.#n.snapshot.params.id,this.form=this.#r.group({attributes_ids:new l.MJ([]),categories:new l.MJ("",[l.k0.required]),cross_sell_products:new l.MJ([]),description:new l.MJ("",[l.k0.required]),discount:new l.MJ(0),encourage_order:new l.MJ(1),encourage_view:new l.MJ(1),estimated_delivery_text:new l.MJ,is_featured:new l.MJ(0),is_free_shipping:new l.MJ(0),is_random_related_products:new l.MJ(0),is_return:new l.MJ(1),is_sale_enable:new l.MJ(!1),is_trending:new l.MJ(0),meta_description:new l.MJ,meta_title:new l.MJ,name:new l.MJ("",[l.k0.required]),price:new l.MJ(2.58,[l.k0.required,J]),product_galleries_id:new l.MJ,product_meta_image_id:new l.MJ,product_thumbnail_id:new l.MJ,quantity:new l.MJ("",[l.k0.required]),related_products:new l.MJ,return_policy_text:new l.MJ,safe_checkout:new l.MJ(1),sale_expired_at:new l.MJ,sale_starts_at:new l.MJ,secure_checkout:new l.MJ(1),short_description:new l.MJ("",[l.k0.required]),size_chart_image_id:new l.MJ,sku:new l.MJ("",[l.k0.required]),social_share:new l.MJ(1),status:new l.MJ(1),stock_status:new l.MJ("in_stock",[]),store_id:new l.MJ,tags:new l.MJ,tax_id:new l.MJ(null,[]),type:new l.MJ("simple",[l.k0.required]),unit:new l.MJ(""),variants:this.#r.array([],[]),variations:this.#r.array([],[]),weight:new l.MJ}),this.#a.pipe((0,q.B)(300)).subscribe(t=>{this.filter.search=t}),"edit"===this.type()){if(this.product=this.productsStore.product(),console.log({product:this.product}),this.product?.related_products&&this.product?.cross_sell_products){let a=[...this.product?.related_products,...this.product?.cross_sell_products];this.filter.paginate=a?.length>=15?a?.length:15,this.filter.ids=a?.join(),this.filter.with_union_products=a?.length?a?.length>=15?0:1:0}this.fromDate=this.product?.sale_starts_at?A(this.formatter.parse(this.product?.sale_starts_at.toDateString())):null,this.toDate=this.product?.sale_expired_at?A(this.formatter.parse(this.product?.sale_expired_at.toISOString())):null,this.selectedCategories=this.product?.categories.map(a=>a?.id),this.selectedTags=this.product?.tags.map(a=>a?.id);let t=this.product?.attributes.map(a=>a?.id),o=this.product?.product_galleries.map(a=>a?.id);this.form.patchValue({attributes_ids:t,categories:this.selectedCategories,cross_sell_products:this.product?.cross_sell_products,description:this.product?.description,discount:this.product?.discount,encourage_order:this.product?.encourage_order,encourage_view:this.product?.encourage_view,estimated_delivery_text:this.product?.estimated_delivery_text,is_featured:this.product?.is_featured,is_free_shipping:this.product?.is_free_shipping,is_random_related_products:this.product?.is_random_related_products,is_return:this.product?.is_return,is_sale_enable:this.product?.is_sale_enable,is_trending:this.product?.is_trending,meta_description:this.product?.meta_description,meta_title:this.product?.meta_title,name:this.product?.name,price:this.product?.price,product_galleries_id:o,product_meta_image_id:this.product?.product_meta_image_id,product_thumbnail_id:this.product?.product_thumbnail_id,quantity:this.product?.quantity,related_products:this.product?.related_products,return_policy_text:this.product?.return_policy_text,safe_checkout:this.product?.safe_checkout,sale_expired_at:this.product?.sale_expired_at,sale_starts_at:this.product?.sale_starts_at,secure_checkout:this.product?.secure_checkout,short_description:this.product?.short_description,size_chart_image_id:this.product?.size_chart_image_id,sku:this.product?.sku,social_share:this.product?.social_share,status:this.product?.status,stock_status:this.product?.stock_status,store_id:this.product?.store_id,tags:this.selectedTags,tax_id:this.product?.tax_id,type:this.product?.type,unit:this.product?.unit,weight:this.product?.weight});let s=t?.map(a=>{let m=this.product?.variations.filter(h=>h.attribute_values.some($=>$?.attribute_id===a)),F=m?.reduce((h,$)=>{let j=$.attribute_values.filter(u=>u?.attribute_id===a).map(u=>u?.id);return j?[...new Set([...h,...j])]:h},[]),M=m?.reduce((h,$)=>{let j=$.attribute_values.find(u=>u.attribute_id===a);return h.some(u=>u?.value===j?.id)||h.push({label:j?.value,value:j?.id}),h},[]);return{id:a,attribute_values:F,options:M,variant_option:[]}});this.variants=s,this.variations=this.product?.variations,"classified"===this.product?.type?(this?.variants?.forEach(a=>{this.variantControl.push(this.#r.group({id:new l.MJ(a?.id,[]),attribute_values:new l.MJ(a?.attribute_values,[]),options:new l.MJ(a?.options,[]),variant_option:new l.MJ(a?.variant_option,[])}))}),this.retrieveVariants=!0):this.clearVariations()}"create"===this.type()&&this.variants.forEach(t=>this.variantControl.push(this.#r.group({id:new l.MJ(t?.id,[]),attribute_values:new l.MJ(t?.attribute_values,[]),options:new l.MJ(t?.attribute_values,[]),variant_option:new l.MJ(t?.variant_option,[])}))),this.variantControl.valueChanges.pipe((0,q.B)(200),(0,B.F)()).subscribe(t=>{t.filter(m=>null!=m.id).map(m=>m.id);let s=t.filter(m=>null!=m.attribute_values),a=s?.map(m=>m.id);this.form.controls.attributes_ids.setValue(a),this.variationCombinations=this.generateCombinations(s),this.addVariation()}),this.form.controls.type.valueChanges.subscribe(t=>{"simple"===t?(this.form.setControl("quantity",new l.MJ("",[l.k0.required])),this.form.setControl("price",new l.MJ("",[l.k0.required])),this.form.setControl("discount",new l.MJ)):(this.form.removeControl("quantity"),this.form.removeControl("price"),this.form.removeControl("discount"))}),this.editor=new D.KE,this.html=this.product?.description,this.form.controls.price.setValue(this.product?.price),console.log(this.product?.price),console.log(this.form.getRawValue())}productFilter(t){this.filter.search=t.search,this.filter.ids=this.filter.search.length?"":this.product?.related_products?.join(),this.filter.paginate=this.product?.related_products?.length>=15?this.product?.related_products?.length:15,this.#i.addClass(this.#o.body,"loader-none")}productDropdown(t){t.innerSearchText&&this.#a.next("")}searchProduct(t){this.#a.next(t.search)}addVariant(t){t.preventDefault(),this.variantControl.push(this.#r.group({id:new l.MJ,attribute_values:new l.MJ,options:new l.MJ,variant_option:new l.MJ}))}removeVariant(t){this.variantControl.length<=1||this.variantControl.removeAt(t)}getAttributeValues(t){}updateAttribute(t,o){console.log({data:t});const a=this.form.get("variants").at(o);let m=null;m=this.attributesStore.getAttributeById(String(t.value)).attribute_values.map(h=>({value:h.id,label:h.value,data:h})),console.log({variant_option:m}),a.patchValue({variant_option:m}),this.variantCount++,this.retrieveVariants||a.patchValue({attribute_values:null,options:null}),this.variantCount===this.variants?.length&&(this.retrieveVariants=!1)}onDateSelection(t){this.fromDate||this.toDate?this.fromDate&&!this.toDate&&t&&t.after(this.fromDate)?this.toDate=t:(this.toDate=null,this.fromDate=t):this.fromDate=t,this.fromDate&&this.form.controls.sale_starts_at.setValue(`${this.fromDate.year}-${this.fromDate.month}-${this.fromDate.day}`),this.toDate&&this.form.controls.sale_expired_at.setValue(`${this.toDate?.year}-${this.toDate?.month}-${this.toDate?.day}`)}isHovered(t){return this.fromDate&&!this.toDate&&this.hoveredDate&&t.after(this.fromDate)&&t.before(this.hoveredDate)}isInside(t){return this.toDate&&t.after(this.fromDate)&&t.before(this.toDate)}isRange(t){return t.equals(this.fromDate)||this.toDate&&t.equals(this.toDate)||this.isInside(t)||this.isHovered(t)}validateInput(t,o){const s=this.formatter.parse(o);return s&&this.#e.isValid(v.gj.from(s))?v.gj.from(s):t}updateAttributeValue(t,o){this.form.get("variants").at(o).patchValue({options:t?.options})}clearVariations(){this.form.get("variations").clear()}addVariation(){this.clearVariations(),this.variationCombinations.length&&this.variationCombinations.forEach(t=>{const o=this.variations.findIndex(a=>a.attribute_values.every(m=>t?.attribute_values.includes(+m?.id)));let s;-1!=o&&this.variations[o]&&(s=this.variations[o]),this.variationControl.push(this.#r.group({id:new l.MJ(s?.id,[]),variation_name:new l.MJ(t?.name,[]),name:new l.MJ(s?.name,[l.k0.required]),price:new l.MJ(s?.price,[l.k0.required,J]),discount:new l.MJ(s?.discount,[]),stock_status:new l.MJ(s?.stock_status?s?.stock_status:"in_stock",[l.k0.required]),sku:new l.MJ(s?.sku,[l.k0.required]),quantity:new l.MJ(s?.quantity,[l.k0.required]),variation_image_id:new l.MJ(s?.variation_image_id,[]),variation_image:new l.MJ(s?.variation_image,[]),attribute_values:new l.MJ(t?.attribute_values,[]),status:new l.MJ(s?+s?.status:1)}))})}removeVariation(t){this.variationControl.length<=1||this.variationControl.removeAt(t)}selectCategoryItem(t){Array.isArray(t)&&this.form.controls.categories.setValue(t)}selectTagItem(t){Array.isArray(t)&&this.form.controls.tags.setValue(Array.isArray(t)?t:[])}selectThumbnail(t){Array.isArray(t)||this.form.controls.product_thumbnail_id.setValue(t?t.id:null)}selectImages(t){let o=Array.isArray(t)?t?.map(s=>s.id):[];this.form.controls.product_galleries_id.setValue(o)}selectSizeImage(t){Array.isArray(t)||this.form.controls.size_chart_image_id.setValue(t?t.id:null)}selectMetaImage(t){Array.isArray(t)||this.form.controls.product_meta_image_id.setValue(t?t.id:null)}selectVariationImage(t,o){this.form.get("variations").at(+o).patchValue({variation_image_id:t?t.id:""})}generateCombinations(t,o=0,s="",a=[]){if(o>=t.length)return a.length?[{name:s.replace(/\/$/,""),attribute_values:a}]:[];const m=t[o],F=m.options,M=[];if(1===F?.length){const $=`${s}${F[0].label}/`,j=[...a,...m?.attribute_values],u=this.generateCombinations(t,o+1,$,j);M.push(...u)}else for(let h=0;h<F?.length;h++){const $=F?.[h],j=$?.value,u=`${s}${$.label}/`,I=[...a,j],E=this.generateCombinations(t,o+1,u,I);M.push(...E)}return M}submit(){if(this.form.markAllAsTouched(),this.form.invalid){const o=Object?.keys(this.form?.controls).find(a=>this.form.controls[a].invalid),s=document.querySelector(`#${o}`)?.closest("div.tab")?.getAttribute("tab");return void(s&&(this.nav().select(s),this.tabError=s))}"simple"===this.form.controls.type.value&&(this.form.controls.attributes_ids.setValue([]),this.clearVariations());let t=this.form.getRawValue();if(t.categories_id=t.categories,delete t.categories,"edit"===this.type()&&this.id)return t.id=this.id,void this.#l.updateProduct(this.id,t).pipe((0,G.pQ)(this.#t)).subscribe(o=>{this.#s.showSuccess(o.message),this.#c.navigateByUrl("/product")});this.#l.createProduct(t).pipe((0,G.pQ)(this.#t)).subscribe(o=>{this.#s.showSuccess(o.message),this.#c.navigateByUrl("/product")})}static#d=this.\u0275fac=function(o){return new(o||r)};static#m=this.\u0275cmp=e.VBU({type:r,selectors:[["app-form-product"]],viewQuery:function(o,s){1&o&&e.wEZ(s.nav,z,5),2&o&&e.NyB()},inputs:{type:[1,"type"]},decls:56,vars:45,consts:[["nav","ngbNav"],["datepicker","ngbDatepicker"],["t",""],["dpFromDate",""],["dpToDate",""],["template",""],[1,"theme-form","theme-form-2","mega-form",3,"ngSubmit","formGroup"],[1,"vertical-tabs"],[1,"row"],[1,"col-xl-3","col-lg-4"],["ngbNav","","orientation","vertical",1,"nav-pills",3,"activeIdChange","activeId"],["ngbNavItem","general","id","general"],["ngbNavLink",""],[1,"ri-settings-line"],["ngbNavContent",""],["ngbNavItem","inventory","id","inventory"],[1,"ri-file-list-line"],["ngbNavItem","setup","id","setup"],[1,"ri-tools-line"],["ngbNavItem","images","id","images"],[1,"ri-image-line"],["ngbNavItem","seo","id","seo"],[1,"ri-earth-line"],["ngbNavItem","shipping","id","shipping"],[1,"ri-truck-line"],["ngbNavItem","status","id","status"],[1,"ri-checkbox-circle-line"],[1,"col-xl-7","col-lg-8"],[3,"ngbNavOutlet"],[3,"id"],["tab","general",1,"tab"],[3,"labelClass","gridClass","label","for","required"],["id","name","type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["id","sort_description","rows","3","formControlName","short_description",1,"form-control",3,"placeholder"],[1,"help-text"],[1,"custom-editor"],[3,"editor"],["formControlName","description",3,"editor","ngModel","placeholder"],["formControlName","store_id","id","store_id","resettable","",1,"custom-select",3,"placeholder","data","noResultMessage"],[1,"invalid-feedback"],["tab","inventory",1,"tab"],["formControlName","type",1,"custom-select",3,"placeholder","data","noResultMessage"],["id","unit","type","text","formControlName","unit",1,"form-control",3,"placeholder"],["id","weight","type","number","placeholder","Enter weight Gms (e.g 100)","formControlName","weight",1,"form-control"],[3,"labelClass","gridClass","label","for","required",4,"ngIf"],["id","sku","type","text","formControlName","sku",1,"form-control",3,"placeholder"],[1,"form-check","form-switch","ps-0"],[1,"switch"],["type","checkbox","id","is_sale_enable","formControlName","is_sale_enable"],[1,"switch-state"],[1,"dp-hidden","position-absolute","custom-dp-dropdown"],[1,"input-group"],["name","datepicker","ngbDatepicker","","outsideDays","hidden","tabindex","-1","readonly","",1,"form-control",3,"dateSelect","autoClose","displayMonths","dayTemplate","startDate"],[1,"input-group","custom-dt-picker"],["placeholder","yyyy-mm-dd","name","dpFromDate","readonly","",1,"form-control",3,"input","value"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"ri-calendar-line"],["placeholder","yyyy-mm-dd","name","dpToDate","readonly","",1,"form-control",3,"input","value"],["class","variant-box border-top",4,"ngIf"],["formControlName","stock_status",1,"custom-select",3,"placeholder","data","noResultMessage"],["id","quantity","type","number","formControlName","quantity",1,"form-control",3,"placeholder"],[1,"input-group-text"],["id","price","type","number","formControlName","price",1,"form-control",3,"placeholder"],["id","discount_value","type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","formControlName","discount",1,"form-control",3,"placeholder"],["id","sale_price","type","number","placeholder","sale price","readonly","",1,"form-control","disabled",3,"value"],[1,"custom-day",3,"mouseenter","mouseleave"],[1,"variant-box","border-top"],["formArrayName","variants"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[3,"class","id","spinner","click",4,"ngIf"],["class","shipping-accordion variant-accordion",4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-sm-5","variant-row"],[3,"label","for"],["formControlName","id","resettable","",1,"custom-select","d-block",3,"update","data","placeholder","noResultMessage"],["formControlName","attribute_values",1,"custom-select","d-block",3,"update","data","placeholder","noResultMessage","multiple"],[1,"col-sm-2","delete-variant"],["href","javascript:void(0)",1,"invalid-feedback",3,"click"],[3,"click","id","spinner"],[1,"shipping-accordion","variant-accordion"],[1,"form-label-title","mb-2"],["formArrayName","variations"],["ngbAccordion",""],["ngbAccordionItem","",3,"collapsed","formGroupName",4,"ngFor","ngForOf"],["ngbAccordionItem","",3,"collapsed","formGroupName"],["ngbAccordionHeader",""],["ngbAccordionButton",""],["ngbAccordionCollapse",""],["ngbAccordionBody",""],["type","text","placeholder","Enter Name","formControlName","name",1,"form-control",3,"id"],["type","number","placeholder","Enter Price","formControlName","price",1,"form-control",3,"id"],["type","number","min","0","max","100","oninput","if (value > 100) value = 100; if (value < 0) value = 0;","formControlName","discount",1,"form-control",3,"id","placeholder"],["type","number","placeholder","Enter sale price","readonly","",1,"form-control",3,"id","value"],["type","number","placeholder","Enter Quantity","formControlName","quantity",1,"form-control",3,"id"],["type","text","placeholder","Enter SKU","formControlName","sku",1,"form-control",3,"id"],[3,"selectedFiles","multipleImage","image"],[3,"labelClass","gridClass","label","for"],["type","checkbox","formControlName","status",3,"id"],["tab","setup",1,"tab"],[3,"selectedItem","position","selectedOption","options","id"],[3,"selectedItem","position","selectedOption","options","subArrayKey","id"],["type","checkbox","id","is_random_related_products","formControlName","is_random_related_products"],["formControlName","cross_sell_products",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled","multiple"],["formControlName","related_products",1,"custom-select",3,"close","search","templates","data","placeholder","noResultMessage","customSearchEnabled","multiple"],[1,"image"],[3,"src"],["tab","images",1,"tab"],[3,"selectedFiles","multipleImage","image","helpText"],[3,"selectedFiles","multipleImage","images","helpText"],["tab","seo",1,"tab"],["id","meta_title","type","text","formControlName","meta_title",1,"form-control",3,"placeholder"],["id","meta_desc","rows","3","formControlName","meta_description",1,"form-control",3,"placeholder"],["tab","shipping",1,"tab"],["type","checkbox","id","free_shipping","formControlName","is_free_shipping"],["formControlName","tax_id","resettable","",1,"custom-select",3,"placeholder","data","id","noResultMessage"],["id","estimated_delivery_text","type","text","formControlName","estimated_delivery_text",1,"form-control",3,"placeholder"],["id","return_policy_text","type","text","formControlName","return_policy_text",1,"form-control",3,"placeholder"],["tab","status",1,"tab"],["type","checkbox","id","product_featured","formControlName","is_featured"],["type","checkbox","id","safe_checkout","formControlName","safe_checkout"],["type","checkbox","id","secure_checkout","formControlName","secure_checkout"],["type","checkbox","id","social_share","formControlName","social_share"],["type","checkbox","id","encourage_order","formControlName","encourage_order"],["type","checkbox","id","encourage_view","formControlName","encourage_view"],["type","checkbox","id","is_trending","formControlName","is_trending"],["type","checkbox","id","return","formControlName","is_return"],["type","checkbox","id","status","formControlName","status"]],template:function(o,s){if(1&o){const a=e.RV6();e.j41(0,"form",6),e.bIt("ngSubmit",function(){return e.eBV(a),e.Njj(s.submit())}),e.j41(1,"div",7)(2,"div",8)(3,"div",9)(4,"ul",10,0),e.mxI("activeIdChange",function(F){return e.eBV(a),e.DH7(s.active,F)||(s.active=F),e.Njj(F)}),e.j41(6,"li",11)(7,"a",12),e.nrm(8,"i",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.DNE(11,te,21,42,"ng-template",14),e.k0s(),e.j41(12,"li",15)(13,"a",12),e.nrm(14,"i",16),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,je,51,67,"ng-template",14),e.k0s(),e.j41(18,"li",17)(19,"a",12),e.nrm(20,"i",18),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,Se,22,44,"ng-template",14),e.k0s(),e.j41(24,"li",19)(25,"a",12),e.nrm(26,"i",20),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.DNE(29,De,7,24,"ng-template",14),e.k0s(),e.j41(30,"li",21)(31,"a",12),e.nrm(32,"i",22),e.EFF(33),e.nI1(34,"translate"),e.k0s(),e.DNE(35,Ye,9,23,"ng-template",14),e.k0s(),e.j41(36,"li",23)(37,"a",12),e.nrm(38,"i",24),e.EFF(39),e.nI1(40,"translate"),e.k0s(),e.DNE(41,Ne,21,37,"ng-template",14),e.k0s(),e.j41(42,"li",25)(43,"a",12),e.nrm(44,"i",26),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.DNE(47,Pe,64,54,"ng-template",14),e.k0s()()(),e.j41(48,"div",27),e.nrm(49,"div",28),e.k0s()(),e.j41(50,"app-button",29),e.EFF(51),e.nI1(52,"translate"),e.k0s()()(),e.j41(53,"pre"),e.EFF(54),e.nI1(55,"json"),e.k0s()}if(2&o){const a=e.sdS(5);e.Y8G("formGroup",s.form),e.R7$(4),e.R50("activeId",s.active),e.R7$(2),e.AVh("is-invalid","general"===s.tabError),e.R7$(3),e.JRh(e.bMT(10,27,"general")),e.R7$(3),e.AVh("is-invalid","inventory"===s.tabError),e.R7$(3),e.JRh(e.bMT(16,29,"inventory")),e.R7$(3),e.AVh("is-invalid","setup"===s.tabError),e.R7$(3),e.JRh(e.bMT(22,31,"setup")),e.R7$(3),e.AVh("is-invalid","images"===s.tabError),e.R7$(3),e.JRh(e.bMT(28,33,"images")),e.R7$(3),e.AVh("is-invalid","seo"===s.tabError),e.R7$(3),e.JRh(e.bMT(34,35,"seo")),e.R7$(3),e.AVh("is-invalid","shipping"===s.tabError),e.R7$(3),e.JRh(e.bMT(40,37,"shipping_&_tax")),e.R7$(3),e.AVh("is-invalid","status"===s.tabError),e.R7$(3),e.JRh(e.bMT(46,39,"status")),e.R7$(4),e.Y8G("ngbNavOutlet",a),e.R7$(),e.Y8G("id","product_btn"),e.R7$(),e.SpI(" ",e.bMT(52,41,"create"===s.type()?"save_product":"update_product")," "),e.R7$(3),e.JRh(e.bMT(55,43,s.form.value))}},dependencies:[i.Sq,i.bT,v.WP,v.r6,v.tW,v.x7,v.UA,v.$R,v.cw,v.Um,v.X9,v.sy,v.Gx,v.Ri,v.WA,v.m_,l.qT,l.me,l.Q0,l.Zm,l.BC,l.cb,l.VZ,l.zX,l.j4,l.JD,l.$R,l.v8,U.R6,Q.z,W.W,O.X,L.Q,D.Cl,D.Zu,i.TG,k.D9],encapsulation:2,changeDetection:0})}return r})(),Ve=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-create-product"]],decls:2,vars:3,consts:[[3,"gridClass","title"],[3,"type"]],template:function(o,s){1&o&&(e.j41(0,"app-page-wrapper",0),e.nrm(1,"app-form-product",1),e.k0s()),2&o&&(e.Y8G("gridClass","col-sm-12")("title","add_product"),e.R7$(),e.Y8G("type","create"))},dependencies:[_.k,X]})}return r})(),qe=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-edit-product"]],decls:2,vars:3,consts:[[3,"gridClass","title"],[3,"type"]],template:function(o,s){1&o&&(e.j41(0,"app-page-wrapper",0),e.nrm(1,"app-form-product",1),e.k0s()),2&o&&(e.Y8G("gridClass","col-sm-12")("title","edit_product"),e.R7$(),e.Y8G("type","edit"))},dependencies:[_.k,X]})}return r})();var V=c(1608),y=c(2492);const Je=[{path:"",component:R,canActivate:[V.L],data:{permission:"product.index"},resolve:{attachments:y.$W,products:y.Bj}},{path:"create",component:Ve,canActivate:[V.L],data:{permission:["product.index","product.create"]},resolve:{attachments:y.$W,attributes:y.sq,categories:y.V7,tags:y.YY,taxes:y.Q9,stores:y.vG,products:y.Bj}},{path:"edit/:id",component:qe,canActivate:[V.L],data:{permission:["product.index","product.edit"]},resolve:{attachments:y.$W,attributes:y.sq,categories:y.V7,product:y.eX,products:y.Bj,stores:y.vG,tags:y.YY,taxes:y.Q9}}];let Ae=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[f.iI.forChild(Je),f.iI]})}return r})();var Xe=c(3887),Be=c(1908),Ue=c(4150),Qe=c(3624),We=c(9281),Oe=c(9363),Le=c(955),ze=c(2489);let Ke=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.$C({type:r});static#o=this.\u0275inj=e.G2t({imports:[i.MD,Ae,Xe.G,D.VZ,x.rK.forFeature([Be.Z,Ue.p,Qe.U,We.Y,Oe.U,Le.t,ze.E])]})}return r})()},7645:(N,S,c)=>{c.d(S,{CF:()=>T,K:()=>e,Np:()=>x,dl:()=>g,hv:()=>f,sQ:()=>i,u1:()=>G});let i=(()=>{class C{static#e=this.type="[Tag] Get";constructor(d){this.payload=d}}return C})(),x=(()=>{class C{static#e=this.type="[Tag] Create";constructor(d){this.payload=d}}return C})(),f=(()=>{class C{static#e=this.type="[Tag] Edit";constructor(d){this.id=d}}return C})(),e=(()=>{class C{static#e=this.type="[Tag] Update";constructor(d,k){this.payload=d,this.id=k}}return C})(),G=(()=>{class C{static#e=this.type="[Tag] Update Status";constructor(d,k){this.id=d,this.status=k}}return C})(),T=(()=>{class C{static#e=this.type="[Tag] Delete";constructor(d){this.id=d}}return C})(),g=(()=>{class C{static#e=this.type="[Tag] Delete All";constructor(d){this.ids=d}}return C})()},8856:(N,S,c)=>{c.d(S,{W:()=>_});var i=c(3953),x=c(177),f=c(9422);const e=["mediaModal"];function G(d,k){if(1&d){const p=i.RV6();i.j41(0,"li"),i.nrm(1,"img",8),i.j41(2,"a",9),i.bIt("click",function(){const R=i.eBV(p).index,l=i.XpG();return i.Njj(l.remove(R,"multiple"))}),i.nrm(3,"i",10),i.k0s()()}if(2&d){const p=k.$implicit,b=k.index;i.R7$(),i.FS9("src",null==p?null:p.original_url,i.B4B),i.R7$(),i.Mz_("id","remove-icon",b,"")}}function T(d,k){if(1&d&&(i.j41(0,"li"),i.nrm(1,"img",8),i.k0s()),2&d){const p=i.XpG();i.R7$(),i.FS9("src",null==p.showImage?null:p.showImage.original_url,i.B4B)}}function g(d,k){if(1&d){const p=i.RV6();i.j41(0,"li"),i.nrm(1,"img",8),i.j41(2,"a",11),i.bIt("click",function(){i.eBV(p);const R=i.XpG();return i.Njj(R.remove(1,"single_image_url"))}),i.nrm(3,"i",10),i.k0s()()}if(2&d){const p=i.XpG();i.R7$(),i.FS9("src",p.showImageUrl,i.B4B)}}function C(d,k){if(1&d&&(i.j41(0,"p",12),i.EFF(1),i.k0s()),2&d){const p=i.XpG();i.R7$(),i.JRh(p.helpText)}}let _=(()=>{class d{constructor(){this.images=[],this.url=!1,this.multipleImage=!1,this.selectedFiles=new i.bkB,this.showImages=[]}ngOnChanges(){this.showImage=this.image,this.showImages=this.images,this.showImageUrl=this.imageUrl}selectImage(p,b){Array.isArray(p)?(this.images=p,this.showImages=p):b?(this.imageUrl=p.original_url,this.showImageUrl=p.original_url):(this.image=p,this.showImage=p),this.selectedFiles.emit(this.imageUrl?this.imageUrl:this.images.length?this.images:this.image)}remove(p,b){"multiple"===b&&Array.isArray(this.images)?(this.images.splice(p,1),this.showImages=this.images):"single_image_url"===b?(this.imageUrl=null,this.showImageUrl=null,this.image=null):(this.image=null,this.showImage=null),this.selectedFiles.emit(this.images.length?this.images:this.image)}static#e=this.\u0275fac=function(b){return new(b||d)};static#t=this.\u0275cmp=i.VBU({type:d,selectors:[["app-image-upload"]],viewQuery:function(b,R){if(1&b&&i.GBs(e,5),2&b){let l;i.mGM(l=i.lsd())&&(R.MediaModal=l.first)}},inputs:{images:"images",image:"image",id:"id",imageUrl:"imageUrl",url:"url",multipleImage:"multipleImage",helpText:"helpText"},outputs:{selectedFiles:"selectedFiles"},features:[i.OA$],decls:9,vars:6,consts:[["mediaModal",""],[1,"image-select-list","cursor-pointer"],[1,"choosefile-input",3,"click"],[1,"ri-add-line"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","help-text",4,"ngIf"],[3,"selectImage","multipleImage","url"],["alt","image",1,"img-fluid",3,"src"],["href","javascript:void(0)",1,"remove-icon",3,"click","id"],[1,"ri-close-line","text-white"],["href","javascript:void(0)",1,"remove-icon",3,"click"],[1,"help-text"]],template:function(b,R){if(1&b){const l=i.RV6();i.j41(0,"ul",1)(1,"li",2),i.bIt("click",function(){return i.eBV(l),i.Njj(R.MediaModal.openModal())}),i.nrm(2,"i",3),i.k0s(),i.DNE(3,G,4,3,"li",4)(4,T,2,1,"li",5)(5,g,4,1,"li",5),i.k0s(),i.DNE(6,C,2,1,"p",6),i.j41(7,"app-media-modal",7,0),i.bIt("selectImage",function(D){return i.eBV(l),i.Njj(R.selectImage(D,R.url))}),i.k0s()}2&b&&(i.R7$(3),i.Y8G("ngForOf",R.showImages),i.R7$(),i.Y8G("ngIf",R.showImage),i.R7$(),i.Y8G("ngIf",R.showImageUrl),i.R7$(),i.Y8G("ngIf",R.helpText),i.R7$(),i.Y8G("multipleImage",R.multipleImage)("url",R.url))},dependencies:[x.Sq,x.bT,f.X],encapsulation:2,changeDetection:0})}return d})()},9363:(N,S,c)=>{c.d(S,{U:()=>g});var i=c(1635),x=c(3953),f=c(6582),e=c(7645),G=c(8701);let g=class w{constructor(){this.store=(0,x.WQX)(f.il),this.notificationService=(0,x.WQX)(G.J)}static tag(_){return _.tag}static selectedTag(_){return _.selectedTag}getTags(_,d){}create(_,d){}edit(_,{id:d}){const k=_.getState(),p=k.tag.data.find(b=>b.id===d);_.patchState({...k,selectedTag:p})}update(_,{}){}updateStatus(_,{}){}delete(_,{}){}deleteAll(_,{}){}static#e=this.\u0275fac=function(d){return new(d||w)};static#t=this.\u0275prov=x.jDH({token:w,factory:w.\u0275fac})};(0,i.Cg)([(0,f.rc)(e.sQ)],g.prototype,"getTags",null),(0,i.Cg)([(0,f.rc)(e.Np)],g.prototype,"create",null),(0,i.Cg)([(0,f.rc)(e.hv)],g.prototype,"edit",null),(0,i.Cg)([(0,f.rc)(e.K)],g.prototype,"update",null),(0,i.Cg)([(0,f.rc)(e.u1)],g.prototype,"updateStatus",null),(0,i.Cg)([(0,f.rc)(e.CF)],g.prototype,"delete",null),(0,i.Cg)([(0,f.rc)(e.dl)],g.prototype,"deleteAll",null),(0,i.Cg)([(0,f.MD)()],g,"tag",null),(0,i.Cg)([(0,f.MD)()],g,"selectedTag",null),g=(0,i.Cg)([(0,f.Uw)({name:"tag",defaults:{tag:{data:[],total:0},selectedTag:null}})],g)}}]);