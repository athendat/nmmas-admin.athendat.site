"use strict";(self.webpackChunknmmas_admin_ssr=self.webpackChunknmmas_admin_ssr||[]).push([[695],{6695:(C,d,e)=>{e.r(d),e.d(d,{ReviewModule:()=>w});var c=e(177),u=e(6582),m=e(1583),a=e(3953),n=e(7674),p=e(2961),h=e(844),v=e(7313);const o=[{path:"",component:(()=>{class i{constructor(){this.store=(0,a.WQX)(u.il),this.review$=this.store.select(n.C.review),this.tableConfig={columns:[{title:"No.",dataField:"no",type:"no"},{title:"image",dataField:"product_review_image",class:"tbl-image",type:"image",placeholder:"assets/images/product.png"},{title:"consumer_name",dataField:"consumer_name"},{title:"product_name",dataField:"product_name"},{title:"rating",dataField:"rating",type:"rating",sortable:!0,sort_direction:"desc"},{title:"created_at",dataField:"createdAt",type:"date",sortable:!0,sort_direction:"desc"}],rowActions:[{label:"Delete",actionToPerform:"delete",icon:"ri-delete-bin-line",permission:"review.destroy"}],data:[],total:0},this.store.dispatch(new p.AB)}ngOnInit(){this.review$.subscribe(t=>{let s=t?.data?.filter(l=>(l.product_review_image=l?.product?.product_thumbnail,l));this.tableConfig.data=t?s:[],this.tableConfig.total=t?t.total:0})}onTableChange(t){this.store.dispatch(new p.AB(t))}onActionClicked(t){"delete"===t.actionToPerform?this.delete(t.data):"deleteAll"===t.actionToPerform&&this.deleteAll(t.data)}delete(t){this.store.dispatch(new p.AY(t.id))}deleteAll(t){this.store.dispatch(new p.Pn(t))}static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275cmp=a.VBU({type:i,selectors:[["app-review"]],decls:2,vars:4,consts:[[3,"gridClass","title"],[3,"tableChanged","action","tableConfig","hasCheckbox"]],template:function(s,l){1&s&&(a.j41(0,"app-page-wrapper",0)(1,"app-table",1),a.bIt("tableChanged",function(g){return l.onTableChange(g)})("action",function(g){return l.onActionClicked(g)}),a.k0s()()),2&s&&(a.Y8G("gridClass","col-sm-12")("title","reviews"),a.R7$(),a.Y8G("tableConfig",l.tableConfig)("hasCheckbox",!0))},dependencies:[h.O,v.k]})}return i})(),canActivate:[e(1608).L],data:{permission:"review.index"}}];let A=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=a.$C({type:i});static#a=this.\u0275inj=a.G2t({imports:[m.iI.forChild(o),m.iI]})}return i})();var y=e(3887);let w=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=a.$C({type:i});static#a=this.\u0275inj=a.G2t({imports:[c.MD,A,u.rK.forFeature([n.C]),y.G]})}return i})()},1608:(C,d,e)=>{e.d(d,{L:()=>a});var c=e(3953),u=e(1583),m=e(6582);let a=(()=>{class n{constructor(){this.store=(0,c.WQX)(m.il),this.router=(0,c.WQX)(u.Ix)}canActivate(h,v){const f=this.store.selectSnapshot(o=>o.account).permissions?.map(o=>o?.name),r=h.data?.permission;return!!(!r||!Array.isArray(r)&&f?.includes(r)||Array.isArray(r)&&r?.length&&r.every(o=>f?.includes(o)))||(this.router.navigate(["/error/403"]),!1)}static#t=this.\u0275fac=function(v){return new(v||n)};static#e=this.\u0275prov=c.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);