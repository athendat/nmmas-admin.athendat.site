"use strict";(self.webpackChunknmmas_admin_ssr=self.webpackChunknmmas_admin_ssr||[]).push([[95],{4095:(U,v,i)=>{i.r(v),i.d(v,{AuthModule:()=>Q});var m=i(177),l=i(1583),t=i(3953),e=i(9417),b=i(7635),w=i(9079),g=i(8701);function _(o,a){if(1&o&&(t.j41(0,"div",2),t.nrm(1,"i",3),t.EFF(2),t.k0s()),2&o){const s=t.XpG();t.R7$(2),t.SpI(" ",null==s.alert?null:s.alert.message,"\n")}}function F(o,a){if(1&o&&(t.j41(0,"div",4),t.nrm(1,"i",5),t.EFF(2),t.k0s()),2&o){const s=t.XpG();t.R7$(2),t.SpI("",null==s.alert?null:s.alert.message,"\n")}}let d=(()=>{class o{constructor(){this.notificationService=(0,t.WQX)(g.J),this.notificationService.alertSubject.subscribe(s=>{this.alert=s})}ngOnDestroy(){this.notificationService.notification=!0}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-alert"]],decls:2,vars:2,consts:[["class","alert alert-danger login-alert","role","alert",4,"ngIf"],["class","alert alert-success login-alert","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger","login-alert"],[1,"ri-error-warning-line"],["role","alert",1,"alert","alert-success","login-alert"],[1,"ri-check-line"]],template:function(n,r){1&n&&t.DNE(0,_,3,1,"div",0)(1,F,3,1,"div",1),2&n&&(t.Y8G("ngIf","error"===(null==r.alert?null:r.alert.type)),t.R7$(),t.Y8G("ngIf","success"===(null==r.alert?null:r.alert.type)))},dependencies:[m.bT]})}return o})();var c=i(7506),p=i(3955);const R=()=>["/auth/forgot-password"];function I(o,a){1&o&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"email_is_required")," "))}function T(o,a){1&o&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"invalid_email")," "))}function k(o,a){1&o&&(t.j41(0,"div",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"password_is_required")," "))}let j=(()=>{class o{#t;#o;#e;#r;constructor(){this.formBuilder=(0,t.WQX)(e.ok),this.#t=(0,t.WQX)(t.abz),this.#o=(0,t.WQX)(b.u),this.#e=(0,t.WQX)(l.Ix),this.#r=(0,t.WQX)(g.J),this.form=this.formBuilder.group({email:new e.MJ("",[e.k0.required,e.k0.email]),password:new e.MJ("",[e.k0.required])})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.#o.signIn(this.form.getRawValue()).pipe((0,w.pQ)(this.#t)).subscribe(s=>{this.#e.navigateByUrl("/dashboard")},s=>{console.log(s.error.message),this.#r.showError(s.error.message.message)})}static#s=this.\u0275fac=function(n){return new(n||o)};static#n=this.\u0275cmp=t.VBU({type:o,selectors:[["app-login"]],decls:41,vars:34,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","me-auto"],[1,"log-in-box"],[1,"log-in-title"],[1,"input-box"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-floating","theme-form-floating","log-in-form"],["type","email","id","email","formControlName","email",1,"form-control",3,"placeholder"],["for","email"],["class","invalid-feedback",4,"ngIf"],["type","password","id","password","formControlName","password",1,"form-control",3,"placeholder"],["for","password"],[1,"forgot-box"],[1,"forgot-password",3,"routerLink"],[3,"id"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"app-alert"),t.j41(5,"div",4)(6,"div",5)(7,"h3"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"h4"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",6)(14,"form",7),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(15,"div",8)(16,"div",9),t.nrm(17,"input",10),t.nI1(18,"translate"),t.j41(19,"label",11),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.DNE(22,I,3,3,"div",12)(23,T,3,3,"div",12),t.k0s()(),t.j41(24,"div",8)(25,"div",9),t.nrm(26,"input",13),t.nI1(27,"translate"),t.j41(28,"label",14),t.EFF(29),t.nI1(30,"translate"),t.k0s(),t.DNE(31,k,3,3,"div",12),t.k0s()(),t.j41(32,"div",8)(33,"div",15)(34,"a",16),t.EFF(35),t.nI1(36,"translate"),t.k0s()()(),t.j41(37,"div",8)(38,"app-button",17),t.EFF(39),t.nI1(40,"translate"),t.k0s()()()()()()()()()),2&n&&(t.R7$(8),t.JRh(t.bMT(9,17,"welcome_to_app")),t.R7$(3),t.JRh(t.bMT(12,19,"log_in_your_account")),t.R7$(3),t.Y8G("formGroup",r.form),t.R7$(3),t.FS9("placeholder",t.bMT(18,21,"email_address")),t.R7$(3),t.JRh(t.bMT(21,23,"email_address")),t.R7$(2),t.Y8G("ngIf",r.form.controls.email.touched&&(null==r.form.controls.email.errors?null:r.form.controls.email.errors.required)),t.R7$(),t.Y8G("ngIf",r.form.controls.email.touched&&(null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)),t.R7$(3),t.Mz_("placeholder","",t.bMT(27,25,"password")," "),t.R7$(3),t.JRh(t.bMT(30,27,"password")),t.R7$(2),t.Y8G("ngIf",r.form.controls.password.touched&&(null==r.form.controls.password.errors?null:r.form.controls.password.errors.required)),t.R7$(3),t.Y8G("routerLink",t.lJ4(33,R)),t.R7$(),t.SpI("",t.bMT(36,29,"forgot_password"),"?"),t.R7$(3),t.HbH("btn btn-theme w-100 justify-content-center"),t.Y8G("id","login_btn"),t.R7$(),t.SpI(" ",t.bMT(40,31,"log_in")," "))},dependencies:[m.bT,l.Wk,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,d,c.Q,p.D9],encapsulation:2})}return o})();var u=i(6582),f=i(4463);function $(o,a){1&o&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"email_is_required")," "))}function C(o,a){1&o&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"invalid_email")," "))}function S(o,a){1&o&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.JRh(t.bMT(2,1,"new_password_is_required")))}function E(o,a){if(1&o){const s=t.RV6();t.j41(0,"div")(1,"div",18),t.bIt("click",function(){t.eBV(s);const r=t.XpG();return t.Njj(r.showPassword())}),t.nrm(2,"span",19),t.k0s()()}if(2&o){const s=t.XpG();t.R7$(2),t.Y8G("ngClass",s.show?"Hide":"show")}}function G(o,a){1&o&&(t.j41(0,"div",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o&&(t.R7$(),t.JRh(t.bMT(2,1,"confirm_password_is_required")))}const P=[{path:"login",component:j},{path:"forgot-password",component:(()=>{class o{constructor(){this.store=(0,t.WQX)(u.il),this.router=(0,t.WQX)(l.Ix),this.formBuilder=(0,t.WQX)(e.ok),this.form=this.formBuilder.group({email:["",[e.k0.required,e.k0.email]]})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.store.dispatch(new f.LE(this.form.value)).subscribe({complete:()=>{this.router.navigateByUrl("/auth/otp")}})}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-forgot-password"]],decls:28,vars:21,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","me-auto"],[1,"log-in-box"],[1,"log-in-title"],[1,"input-box"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-floating","theme-form-floating","log-in-form"],["type","email","formControlName","email","id","email",1,"form-control",3,"placeholder"],["for","email"],["class","invalid-feedback",4,"ngIf"],[3,"id"],[1,"invalid-feedback"]],template:function(n,r){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"app-alert"),t.j41(5,"div",4)(6,"div",5)(7,"h3"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"h4"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",6)(14,"form",7),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(15,"div",8)(16,"div",9),t.nrm(17,"input",10),t.nI1(18,"translate"),t.j41(19,"label",11),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.DNE(22,$,3,3,"div",12)(23,C,3,3,"div",12),t.k0s()(),t.j41(24,"div",8)(25,"app-button",13),t.EFF(26),t.nI1(27,"translate"),t.k0s()()()()()()()()()),2&n&&(t.R7$(8),t.JRh(t.bMT(9,11,"welcome_to_app")),t.R7$(3),t.JRh(t.bMT(12,13,"forgot_password")),t.R7$(3),t.Y8G("formGroup",r.form),t.R7$(3),t.FS9("placeholder",t.bMT(18,15,"email_address")),t.R7$(3),t.JRh(t.bMT(21,17,"enter_email_address")),t.R7$(2),t.Y8G("ngIf",r.form.controls.email.touched&&(null==r.form.controls.email.errors?null:r.form.controls.email.errors.required)),t.R7$(),t.Y8G("ngIf",r.form.controls.email.touched&&(null==r.form.controls.email.errors?null:r.form.controls.email.errors.email)),t.R7$(2),t.HbH("btn btn-theme w-100 justify-content-center"),t.Y8G("id","forgot_btn"),t.R7$(),t.SpI(" ",t.bMT(27,19,"send")," "))},dependencies:[m.bT,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,d,c.Q,p.D9]})}return o})()},{path:"otp",component:(()=>{class o{constructor(){this.router=(0,t.WQX)(l.Ix),this.store=(0,t.WQX)(u.il),this.formBuilder=(0,t.WQX)(e.ok),this.email=this.store.selectSnapshot(s=>s.auth.email),this.email||this.router.navigateByUrl("/auth/login"),this.form=this.formBuilder.group({otp:new e.MJ("",[e.k0.required,e.k0.minLength(5)])})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.store.dispatch(new f.dQ({email:this.email,token:this.form.value.otp})).subscribe({complete:()=>{this.router.navigateByUrl("/auth/update-password")}})}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-otp"]],decls:23,vars:14,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","me-auto"],[3,"ngSubmit","formGroup"],[1,"log-in-box"],[1,"log-in-title"],[1,"text-content"],["id","otp",1,"row","d-flex","row-cols-6","g-2","mb-5"],[1,"outer-otp"],[1,"inner-otp"],["type","text","formControlName","otp","maxlength","5","oninput","this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');","onKeyPress","if(this.value.length==5) return false;"],[3,"id"]],template:function(n,r){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"app-alert"),t.j41(5,"form",4),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(6,"div",5)(7,"div",6)(8,"h3",7),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"h5",7),t.EFF(12),t.nI1(13,"translate"),t.j41(14,"span"),t.EFF(15),t.k0s()()(),t.j41(16,"div",8)(17,"div",9)(18,"div",10),t.nrm(19,"input",11),t.k0s()()(),t.j41(20,"app-button",12),t.EFF(21),t.nI1(22,"translate"),t.k0s()()()()()()()),2&n&&(t.R7$(5),t.Y8G("formGroup",r.form),t.R7$(4),t.JRh(t.bMT(10,8,"please_enter_the_one_time_password_to_verify_your_account")),t.R7$(3),t.SpI(" ",t.bMT(13,10,"a_code_has_been_sent_to")," "),t.R7$(3),t.JRh(r.email),t.R7$(5),t.HbH("btn btn-theme w-100 justify-content-center"),t.Y8G("id","otp_btn"),t.R7$(),t.SpI(" ",t.bMT(22,12,"validate")," "))},dependencies:[e.qT,e.me,e.BC,e.cb,e.tU,e.j4,e.JD,d,c.Q,p.D9]})}return o})()},{path:"update-password",component:(()=>{class o{constructor(){this.store=(0,t.WQX)(u.il),this.formBuilder=(0,t.WQX)(e.ok),this.router=(0,t.WQX)(l.Ix),this.show=!1,this.email=this.store.selectSnapshot(s=>s.auth.email),this.token=this.store.selectSnapshot(s=>s.auth.token),!this.email&&!this.token&&this.router.navigateByUrl("/auth/login"),this.form=this.formBuilder.group({newPassword:new e.MJ("",[e.k0.required]),confirmPassword:new e.MJ("",[e.k0.required])})}showPassword(){this.show=!this.show}submit(){this.form.markAllAsTouched(),this.form.valid&&this.store.dispatch(new f.RE({email:this.email,token:Number(this.token),password:this.form.value.newPassword,password_confirmation:this.form.value.confirmPassword})).subscribe({complete:()=>{this.router.navigateByUrl("/auth/login")}})}static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.VBU({type:o,selectors:[["app-update-password"]],decls:36,vars:30,consts:[[1,"log-in-section","section-b-space"],[1,"container","w-100"],[1,"row"],[1,"col-xl-5","col-lg-6","me-auto"],[1,"log-in-box"],[1,"log-in-title"],[1,"input-box"],[1,"row","g-4",3,"ngSubmit","formGroup"],[1,"col-12"],[1,"form-floating","theme-form-floating","log-in-form"],["name","newPassword","formControlName","newPassword","id","email",1,"form-control",3,"type","placeholder"],["for","email"],["class","invalid-feedback",4,"ngIf"],["id","password","formControlName","confirmPassword",1,"form-control",3,"type","placeholder"],["for","password"],[4,"ngIf"],[3,"id"],[1,"invalid-feedback"],[1,"show-hide",3,"click"],[1,"show",3,"ngClass"]],template:function(n,r){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"app-alert"),t.j41(5,"div",4)(6,"div",5)(7,"h3"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"h4"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"div",6)(14,"form",7),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(15,"div",8)(16,"div",9),t.nrm(17,"input",10),t.nI1(18,"translate"),t.j41(19,"label",11),t.EFF(20),t.nI1(21,"translate"),t.k0s(),t.DNE(22,S,3,3,"div",12),t.k0s()(),t.j41(23,"div",8)(24,"div",9),t.nrm(25,"input",13),t.nI1(26,"translate"),t.j41(27,"label",14),t.EFF(28),t.nI1(29,"translate"),t.k0s(),t.DNE(30,E,3,1,"div",15)(31,G,3,3,"div",12),t.k0s()(),t.j41(32,"div",8)(33,"app-button",16),t.EFF(34),t.nI1(35,"translate"),t.k0s()()()()()()()()()),2&n&&(t.R7$(8),t.JRh(t.bMT(9,16,"update_password")),t.R7$(3),t.JRh(t.bMT(12,18,"please_choose_your_password")),t.R7$(3),t.Y8G("formGroup",r.form),t.R7$(3),t.FS9("placeholder",t.bMT(18,20,"new_password")),t.Y8G("type","password"),t.R7$(3),t.JRh(t.bMT(21,22,"new_password")),t.R7$(2),t.Y8G("ngIf",r.form.controls.newPassword.touched&&(null==r.form.controls.newPassword.errors?null:r.form.controls.newPassword.errors.required)),t.R7$(3),t.FS9("placeholder",t.bMT(26,24,"password")),t.Y8G("type",r.show?"text":"password"),t.R7$(3),t.JRh(t.bMT(29,26,"confirm_password")),t.R7$(2),t.Y8G("ngIf",!(null!=r.form.controls.confirmPassword.errors&&r.form.controls.confirmPassword.errors.required)),t.R7$(),t.Y8G("ngIf",r.form.controls.confirmPassword.touched&&(null==r.form.controls.confirmPassword.errors?null:r.form.controls.confirmPassword.errors.required)),t.R7$(2),t.HbH("btn btn-theme w-100 justify-content-center"),t.Y8G("id","pass_btn"),t.R7$(),t.SpI(" ",t.bMT(35,28,"submit")," "))},dependencies:[m.YU,m.bT,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,d,c.Q,p.D9]})}return o})()}];let J=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.$C({type:o});static#e=this.\u0275inj=t.G2t({imports:[l.iI.forChild(P),l.iI]})}return o})();var B=i(3887),Y=i(7511);let Q=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.$C({type:o});static#e=this.\u0275inj=t.G2t({imports:[m.MD,J,e.YN,e.X1,B.G,u.rK.forFeature([Y.k])]})}return o})()}}]);